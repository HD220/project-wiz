# ADR-0021: DiagramaÃ§Ã£o de Componentes com Mermaid

## Status

- ğŸŸ¢ **Aceito**

## Contexto

Necessidade de padronizar a representaÃ§Ã£o visual da arquitetura do sistema, substituindo diagramas estÃ¡ticos por uma abordagem mais dinÃ¢mica e versionÃ¡vel.

Problemas identificados:
1. Diagramas em imagens difÃ­ceis de manter
2. Falta de sincronia com cÃ³digo-fonte
3. Dificuldade de versionamento

## DecisÃ£o

Adotar Mermaid.js como padrÃ£o para diagramaÃ§Ã£o arquitetural, com:

1. **Tipos de Diagramas**:
   - Contexto: `graph TD`
   - Containers: `graph LR`
   - Componentes: `graph TB`
   - Fluxos: `sequenceDiagram`

2. **ConvenÃ§Ãµes**:
   - Nomes em inglÃªs para elementos
   - Estilo consistente (formas, cores)
   - Links para cÃ³digo relacionado

3. **LocalizaÃ§Ã£o**:
   - Diagramas embutidos em arquivos .md
   - Pasta `/docs/architecture/diagrams/` para complexos

4. **Exemplo de ImplementaÃ§Ã£o**:
```mermaid
graph TD
    A[Client] --> B[API Gateway]
    B --> C[Service A]
    B --> D[Service B]
    C --> E[(Database)]
```

## ConsequÃªncias

**Positivas**:
- Diagramas versionÃ¡veis
- FÃ¡cil manutenÃ§Ã£o
- IntegraÃ§Ã£o com documentaÃ§Ã£o

**Negativas**:
- Curva de aprendizado
- LimitaÃ§Ãµes vs. ferramentas dedicadas

## Alternativas Consideradas

- PlantUML â€” rejeitado por requerer prÃ©-processamento
- Imagens estÃ¡ticas â€” rejeitado por problemas de manutenÃ§Ã£o
- Ferramentas externas â€” rejeitado para manter tudo no repositÃ³rio

## Links Relacionados

- [ADR-0020: PadrÃ£o de DocumentaÃ§Ã£o TÃ©cnica](../decisions/adr-0020.md)
- [Mermaid Documentation](https://mermaid.js.org/)