# Tabela Detalhada de Tarefas de Refatoração - Fase 5

Este documento rastreia o progresso da reescrita completa do código da Fase 5.

**Status:**
*   Pendente
*   Em Andamento
*   Concluído
*   Bloqueado
*   Revisão

**Complexidade (1-5):**
*   1: Muito Baixa (ex: criar um VO simples, uma interface pequena, schema Zod)
*   2: Baixa (ex: criar uma entidade pequena, um caso de uso CRUD básico)
*   3: Média (ex: criar uma entidade mais complexa com VOs, um caso de uso com alguma lógica)
*   4: Alta (ex: implementar um serviço com múltiplas interações, um componente de UI grande) -> Requer subdivisão em sub-tarefas de complexidade <= 2, idealmente 1.
*   5: Muito Alta (ex: integrar um subsistema inteiro) -> Requer subdivisão em sub-tarefas de complexidade <= 2, idealmente 1.

---

| ID da Tarefa | Descrição da Tarefa                                                                                                | Status        | Dependências (IDs) | Complexidade (1-5) | Responsável | Branch Git                                 | Commit da Conclusão (Link) | Notas/Decisões                                                                                                                               |
|--------------|--------------------------------------------------------------------------------------------------------------------|---------------|--------------------|--------------------|-------------|--------------------------------------------|----------------------------|----------------------------------------------------------------------------------------------------------------------------------------------|
| **SUB-FASE 5.A: CAMADA DE DOMÍNIO (`src_refactored/core/domain/`)**                                                                |               |                    |                    |                    |             |                                            |                            |                                                                                                                                              |
| DOM-000.1    | Criar `src_refactored/shared/result.ts`                                                                            | Concluído     | -                  | 1                  | Jules       | feat/refactor-phase5-domain-project        | Link_Commit_DOM-000.1      | Result type para operações.                                                                                                                  |
| DOM-000.2    | Criar `src_refactored/core/common/value-objects/base.vo.ts` (`AbstractValueObject`)                                  | Concluído     | -                  | 1                  | Jules       | feat/refactor-phase5-domain-project        | Link_Commit_DOM-000.2      | Base para VOs com `equals`.                                                                                                                  |
| DOM-000.3    | Criar `src_refactored/core/common/value-objects/identity.vo.ts` (`Identity`)                                       | Concluído     | DOM-000.2          | 1                  | Jules       | feat/refactor-phase5-domain-project        | Link_Commit_DOM-000.3      | Base para VOs de ID (UUIDs).                                                                                                                 |
| DOM-000.4    | Criar `src_refactored/core/common/errors.ts` (`DomainError`, etc.)                                                   | Concluído     | -                  | 1                  | Jules       | feat/refactor-phase5-domain-user           | Link_Commit_DOM-000.4      | Erros customizados do domínio (DomainError, ValueError, EntityError, NotFoundError).                                                           |
|              | **Agregado de Projeto (Project & SourceCode)**                                                                     |               |                    |                    |             |                                            |                            |                                                                                                                                              |
| DOM-PROJ-001 | Criar VOs: `ProjectId`, `ProjectName`, `ProjectDescription`                                                        | Concluído     | DOM-000.2, DOM-000.3 | 1                  | Jules       | feat/refactor-phase5-domain-project        | Link_Commit_DOM-PROJ-001   | Em `core/domain/project/value-objects/`                                                                                                      |
| DOM-PROJ-002 | Criar Entidade: `Project`                                                                                          | Concluído     | DOM-PROJ-001       | 2                  | Jules       | feat/refactor-phase5-domain-project        | Link_Commit_DOM-PROJ-002_fix   | Em `core/domain/project/project.entity.ts`. Corrigida para herdar de AbstractEntity e incluir timestamps (branch fix/refactor-phase5-domain-project-entity-timestamps). Testes criados. |
| DOM-PROJ-003 | Criar VOs: `RepositoryId`, `RepositoryPath`, `RepositoryDocsPath`                                                  | Concluído     | DOM-000.2, DOM-000.3 | 1                  | Jules       | feat/refactor-phase5-domain-project        | Link_Commit_DOM-PROJ-003   | Em `core/domain/source-code/value-objects/`                                                                                                  |
| DOM-PROJ-004 | Criar Entidade: `SourceCode`                                                                                       | Concluído     | DOM-PROJ-003, DOM-PROJ-001 (ProjectId) | 2                  | Jules       | feat/refactor-phase5-domain-project        | Link_Commit_DOM-PROJ-004   | Em `core/domain/source-code/source-code.entity.ts`                                                                                           |
| DOM-PROJ-005 | Criar Porta: `IProjectRepository`                                                                                  | Concluído     | DOM-PROJ-002       | 1                  | Jules       | feat/refactor-phase5-domain-project        | Link_Commit_DOM-PROJ-005   | Em `core/domain/project/ports/`                                                                                                              |
| DOM-PROJ-006 | Criar Porta: `ISourceCodeRepository`                                                                               | Concluído     | DOM-PROJ-004       | 1                  | Jules       | feat/refactor-phase5-domain-project        | Link_Commit_DOM-PROJ-006   | Em `core/domain/source-code/ports/`                                                                                                          |
|              | **Agregado de Configuração LLM (LLMProviderConfig)**                                                               |               |                    |                    |             |                                            |                            |                                                                                                                                              |
| DOM-LLM-001  | Criar VOs: `LLMProviderConfigId`, `LLMProviderConfigName`, `LLMProviderId`, `LLMApiKey`, `BaseUrl`                 | Concluído     | DOM-000.2, DOM-000.3 | 1                  | Jules       | feat/refactor-phase5-domain-agent-config | Link_Commit_DOM-LLM-001  | Em `core/domain/llm-provider-config/value-objects/`                                                                                          |
| DOM-LLM-002  | Criar Entidade: `LLMProviderConfig`                                                                                | Concluído     | DOM-LLM-001        | 2                  | Jules       | feat/refactor-phase5-domain-agent-config | Link_Commit_DOM-LLM-002  | Em `core/domain/llm-provider-config/llm-provider-config.entity.ts`                                                                         |
| DOM-LLM-003  | Criar Porta: `ILLMProviderConfigRepository`                                                                        | Concluído     | DOM-LLM-002        | 1                  | Jules       | feat/refactor-phase5-domain-agent-config | Link_Commit_DOM-LLM-003  | Em `core/domain/llm-provider-config/ports/`                                                                                                  |
|              | **Agregado de Agente (AgentPersonaTemplate, Agent, AgentInternalState)**                                           |               |                    |                    |             |                                            |                            |                                                                                                                                              |
| DOM-AGENT-001| Criar VOs para `AgentPersonaTemplate`: `PersonaId`, `PersonaName`, `PersonaRole`, `PersonaGoal`, `PersonaBackstory`, `ToolNames` | Concluído     | DOM-000.2, DOM-000.3 | 1                  | Jules       | feat/refactor-phase5-domain-agent-config | Link_Commit_DOM-AGENT-001| Em `core/domain/agent/value-objects/persona/`                                                                                              |
| DOM-AGENT-002| Criar Estrutura/VO: `AgentPersonaTemplate`                                                                         | Concluído     | DOM-AGENT-001      | 2                  | Jules       | feat/refactor-phase5-domain-agent-config | Link_Commit_DOM-AGENT-002| Em `core/domain/agent/agent-persona-template.vo.ts`                                                                                          |
| DOM-AGENT-003| Criar Porta: `IAgentPersonaTemplateRepository`                                                                     | Concluído     | DOM-AGENT-002      | 1                  | Jules       | feat/refactor-phase5-domain-agent-config | Link_Commit_DOM-AGENT-003| Em `core/domain/agent/ports/`                                                                                                              |
| DOM-AGENT-004| Criar VOs para `Agent`: `AgentId`, `AgentTemperature`                                                              | Concluído     | DOM-000.3          | 1                  | Jules       | feat/refactor-phase5-domain-agent-config | Link_Commit_DOM-AGENT-004| Em `core/domain/agent/value-objects/`                                                                                                      |
| DOM-AGENT-005| Criar Entidade: `Agent`                                                                                            | Concluído     | DOM-AGENT-002, DOM-AGENT-004, DOM-LLM-002 | 2            | Jules       | feat/refactor-phase5-domain-agent-config | Link_Commit_DOM-AGENT-005| Em `core/domain/agent/agent.entity.ts`                                                                                                       |
| DOM-AGENT-006| Criar Porta: `IAgentRepository`                                                                                    | Concluído     | DOM-AGENT-005      | 1                  | Jules       | feat/refactor-phase5-domain-agent-config | Link_Commit_DOM-AGENT-006| Em `core/domain/agent/ports/`                                                                                                              |
| DOM-AGENT-007| Criar VOs para `AgentInternalState`: `CurrentProjectId`, `CurrentGoal`, `GeneralNotesCollection`                   | Concluído     | DOM-000.2, DOM-000.3 | 1                  | Jules       | feat/refactor-phase5-domain-job-agent-state | Link_Commit_DOM-AGENT-007 | Em `core/domain/agent/value-objects/internal-state/`                                                                                       |
| DOM-AGENT-008| Criar Entidade: `AgentInternalState`                                                                               | Concluído     | DOM-AGENT-004, DOM-AGENT-007 | 2            | Jules       | feat/refactor-phase5-domain-job-agent-state | Link_Commit_DOM-AGENT-008 | Em `core/domain/agent/agent-internal-state.entity.ts`                                                                                      |
| DOM-AGENT-009| Criar Porta: `IAgentInternalStateRepository`                                                                       | Concluído     | DOM-AGENT-008      | 1                  | Jules       | feat/refactor-phase5-domain-job-agent-state | Link_Commit_DOM-AGENT-009 | Em `core/domain/agent/ports/`                                                                                                              |
|              | **Agregado de Job (Job & ActivityContext)**                                                                        |               |                    |                    |             |                                            |                            |                                                                                                                                              |
| DOM-JOB-001  | Criar VOs para `Job`: `JobId`, `JobName`, `JobStatus`, `JobPriority`, `JobTimestamp`, `AttemptCount`, `MaxAttempts`| Concluído     | DOM-000.2, DOM-000.3 | 1                  | Jules       | feat/refactor-phase5-domain-job-agent-state | Link_Commit_DOM-JOB-001  | Em `core/domain/job/value-objects/`                                                                                                          |
| DOM-JOB-002  | Criar VOs para `RetryPolicy`: `RetryPolicy`, `NoRetryPolicy`, `BackoffType`, `RetryDelay`                          | Concluído     | DOM-JOB-001 (MaxAttempts) | 1             | Jules       | feat/refactor-phase5-domain-job-agent-state | Link_Commit_DOM-JOB-002  | Em `core/domain/job/value-objects/`                                                                                                          |
| DOM-JOB-003  | Criar VOs para `ActivityContext` (parte 1): `ActivityType`, `HistoryEntryRoleType`, `EntryContent`, `HistoryEntryRole`, `ActivityHistoryEntry` | Concluído     | DOM-000.2, DOM-JOB-001 (JobTimestamp) | 2 | Jules   | feat/refactor-phase5-domain-job-agent-state | Link_Commit_DOM-JOB-003  | Em `core/domain/job/value-objects/` e `context-parts/`                                                                                       |
| DOM-JOB-004  | Criar Coleções de Primeira Classe para `ActivityContext`: `ActivityHistory`, `ActivityNotes`                        | Concluído     | DOM-JOB-003        | 2                  | Jules       | feat/refactor-phase5-domain-job-agent-state | Link_Commit_DOM-JOB-004  | Em `core/domain/job/value-objects/`                                                                                                          |
| DOM-JOB-005  | Criar VOs para `ActivityContext` (parte 2 - context-parts): `MessageContent`, `Sender`, `ToolName`, `GoalToPlan`, `PlannedStepsCollection`, `ValidationCriteriaCollection`, `ValidationStatus` | Concluído | DOM-000.2          | 2       | Jules       | feat/refactor-phase5-domain-job-agent-state | Link_Commit_DOM-JOB-005  | Em `core/domain/job/value-objects/context-parts/`                                                                                            |
| DOM-JOB-006  | Criar VOs para `Job` (coleções): `JobDependsOn`, `RelatedActivityIds`                                              | Concluído     | DOM-JOB-001 (JobId)| 1                  | Jules       | feat/refactor-phase5-domain-job-agent-state | Link_Commit_DOM-JOB-006  | Em `core/domain/job/value-objects/`                                                                                                          |
| DOM-JOB-007  | Criar VO: `TargetAgentRole`                                                                                        | Concluído     | DOM-000.2          | 1                  | Jules       | feat/refactor-phase5-domain-job-agent-state | Link_Commit_DOM-JOB-007  | Em `core/domain/job/value-objects/`                                                                                                          |
| DOM-JOB-008  | Criar VO Composto: `ActivityContext`                                                                               | Concluído     | DOM-JOB-003, DOM-JOB-004, DOM-JOB-005 | 2       | Jules       | feat/refactor-phase5-domain-job-agent-state | Link_Commit_DOM-JOB-008  | Em `core/domain/job/value-objects/activity-context.vo.ts`                                                                                    |
| DOM-JOB-009  | Criar Tipos Compartilhados: `job-processing.types.ts` (`AgentJobState`, `ExecutionHistoryEntry`, `AgentExecutorResult`) | Concluído     | DOM-JOB-004        | 1                  | Jules       | feat/refactor-phase5-domain-job-agent-state | Link_Commit_DOM-JOB-009  | Em `core/domain/job/`                                                                                                                        |
| DOM-JOB-010  | Criar Entidade: `Job`                                                                                              | Concluído     | DOM-JOB-001 to DOM-JOB-009 | 3       | Jules       | feat/refactor-phase5-domain-job-agent-state | Link_Commit_DOM-JOB-010  | Em `core/domain/job/job.entity.ts`. Inclui `data` para `AgentJobState`.                                                                      |
| DOM-JOB-011  | Criar Porta: `IJobRepository`                                                                                      | Concluído     | DOM-JOB-010        | 1                  | Jules       | feat/refactor-phase5-domain-job-agent-state | Link_Commit_DOM-JOB-011  | Em `core/domain/job/ports/`                                                                                                                  |
|              | **Outras Entidades de Domínio**                                                                                    |               |                    |                    |             |                                            |                            |                                                                                                                                              |
| DOM-USER-001 | Criar VOs e Entidade `User`, Porta `IUserRepository`                                                               | Concluído     | DOM-000.3, DOM-000.4 | 2                  | Jules       | feat/refactor-phase5-domain-user           | Link_Commit_DOM-USER-001   | VOs: UserId, UserNickname, UserUsername, UserEmail, UserAvatar. Entity: User. Port: IUserRepository. Base AbstractEntity criada.             |
| DOM-ANNO-001 | Criar VOs e Entidade `Annotation`, Porta `IAnnotationRepository`                                                   | Concluído     | DOM-000.3, DOM-000.4 | 2                  | Jules       | feat/refactor-phase5-domain-annotation     | Link_Commit_DOM-ANNO-001   | VOs: AnnotationId, AnnotationText. Entity: Annotation. Port: IAnnotationRepository.                                                          |
| DOM-MEM-001  | Criar VOs e Entidade `MemoryItem`, Porta `IMemoryRepository`                                                       | Concluído     | DOM-000.3, DOM-000.4 | 2                  | Jules       | feat/refactor-phase5-domain-memoryitem     | Link_Commit_DOM-MEM-001    | VOs: MemoryItemId, MemoryItemContent, MemoryItemTags, MemoryItemSource, MemoryItemEmbedding. Entity: MemoryItem. Port: IMemoryRepository.       |
| DOM-QUEUE-001| Criar Entidade `Queue` (metadados da fila, ex: `name`, `concurrency`), VOs, Porta `IQueueMetadataRepository` (nome sugerido) | Concluído     | DOM-000.3, DOM-000.4 | 2                  | Jules       | feat/refactor-phase5-domain-queue          | Link_Commit_DOM-QUEUE-001  | VOs: QueueId, QueueName, QueueConcurrency, QueueDescription. Entity: Queue. Port: IQueueMetadataRepository.                                  |
|              | **Interfaces de Ferramentas (Tools)**                                                                              |               |                    |                    |             |                                            |                            |                                                                                                                                              |
| DOM-TOOL-001 | Criar `IAgentTool` interface em `src_refactored/core/tools/tool.interface.ts`                                      | Concluído     | -                  | 1                  | Jules       | feat/refactor-phase5-domain-iagenttool     | Link_Commit_DOM-TOOL-001   | Definida IAgentTool<InputSchema, TOutput>, IToolExecutionContext, e ToolError. Alinhada com Zod e GenericAgentExecutor.                        |
| ---          | ---                                                                                                                | ---           | ---                | ---                | ---         | ---                                        | ---                        | ---                                                                                                                                          |
| **SUB-FASE 5.B: CAMADA DE APLICAÇÃO (`src_refactored/core/application/`)**                                                         |               |                    |                    |                    |             |                                            |                            |                                                                                                                                              |
| APP-COMMON-001| Criar `src_refactored/core/application/common/executable.ts` (`Executable` interface)                            | Concluído     | -                  | 1                  | Jules       | feat/refactor-phase5-app-executable        | Link_Commit_APP-COMMON-001 | Interface Executable<InputType, SuccessData, ErrorType> definida.                                                                            |
|              | **Portas para Adaptadores de Infraestrutura**                                                                      |               |                    |                    |             |                                            |                            |                                                                                                                                              |
| APP-PORT-001 | Criar `IFileSystem` em `core/ports/adapters/`                                                                      | Concluído     | -                  | 1                  | Jules       | feat/refactor-phase5-usecase-create-project | Link_Commit_APP-PORT-001 |                                                                                                                                              |
| APP-PORT-002 | Criar `IVersionControlSystem` em `core/ports/adapters/`                                                            | Concluído     | -                  | 1                  | Jules       | feat/refactor-phase5-usecase-create-project | Link_Commit_APP-PORT-002 |                                                                                                                                              |
| APP-PORT-003 | Criar `IJobQueue` (para enfileirar/obter jobs) em `core/ports/adapters/`                                           | Concluído     | DOM-JOB-010        | 1                  | Jules       | feat/refactor-phase5-app-ijobqueue         | Link_Commit_APP-PORT-003   | Interface IJobQueue e QueueError definidas.                                                                                                  |
| APP-PORT-004 | Criar `ILLMAdapter` em `core/ports/adapters/`                                                                      | Concluído     | -                  | 1                  | Jules       | feat/refactor-phase5-app-illmadapter       | Link_Commit_APP-PORT-004   | Interface ILLMAdapter, LLMGenerationOptions, e LLMError definidas.                                                                           |
|              | **Casos de Uso**                                                                                                   |               |                    |                    |             |                                            |                            |                                                                                                                                              |
| APP-PROJ-001 | Implementar `CreateProjectUseCase` (schemas Zod, lógica)                                                           | Concluído     | DOM-PROJ-006, APP-PORT-001, APP-PORT-002 | 3 | Jules | feat/refactor-phase5-usecase-create-project | Link_Commit_APP-PROJ-001 |                                                                                                                                              |
| APP-PROJ-002 | Implementar `ListProjectsUseCase`                                                                                  | Concluído     | DOM-PROJ-005       | 2                  | Jules       | feat/refactor-phase5-app-listprojects      | Link_Commit_APP-PROJ-002   | Entidade Project corrigida (DOM-PROJ-002). Sub-tarefas .1 (Schema) e .2 (Lógica e Testes) concluídas.                                        |
| APP-PROJ-002.1| Definir schemas Zod para Input/Output de `ListProjectsUseCase`                                                     | Concluído     | APP-PROJ-002       | 1                  | Jules       | feat/refactor-phase5-app-listprojects      | Link_Commit_APP-PROJ-002.1 | Schemas para input (vazio) e output (array de {id, name, createdAt}) definidos. (Parte de feat/refactor-phase5-app-listprojects)           |
| APP-PROJ-002.2| Implementar lógica principal e testes de `ListProjectsUseCase`                                                       | Concluído     | APP-PROJ-002.1     | 1                  | Jules       | feat/refactor-phase5-app-listprojects      | Link_Commit_APP-PROJ-002.2 | Lógica do use case e testes unitários implementados.                                                                                         |
| APP-PROJ-003 | Implementar `GetProjectDetailsUseCase`                                                                             | Concluído     | DOM-PROJ-005, DOM-PROJ-006 | 2        | Jules       | feat/refactor-phase5-app-getprojectdetails | Link_Commit_APP-PROJ-003   | Sub-tarefas .1 (Schema) e .2 (Lógica e Testes) concluídas.                                                                                    |
| APP-PROJ-003.1| Definir schemas Zod para Input/Output de `GetProjectDetailsUseCase`                                                | Concluído     | APP-PROJ-003       | 1                  | Jules       | feat/refactor-phase5-app-getprojectdetails | Link_Commit_APP-PROJ-003.1 | Schemas para input (projectId) e output (detalhes do projeto + source code) definidos e alinhados com VOs. (Parte de feat/refactor-phase5-app-getprojectdetails) |
| APP-PROJ-003.2| Implementar lógica principal e testes de `GetProjectDetailsUseCase`                                                  | Concluído     | APP-PROJ-003.1     | 1                  | Jules       | feat/refactor-phase5-app-getprojectdetails | Link_Commit_APP-PROJ-003.2 | Lógica do use case e testes unitários implementados.                                                                                         |
| APP-LLMC-001 | Implementar `CreateLLMProviderConfigUseCase`                                                                       | Concluído     | DOM-LLM-003        | 2                  | Jules       | feat/refactor-phase5-app-createllmconfig   | Link_Commit_APP-LLMC-001   | Sub-tarefas .1 (Schema) e .2 (Lógica e Testes) concluídas.                                                                                    |
| APP-LLMC-001.1| Definir schemas Zod para Input/Output de `CreateLLMProviderConfigUseCase`                                            | Concluído     | APP-LLMC-001       | 1                  | Jules       | feat/refactor-phase5-app-createllmconfig-schema | Link_Commit_APP-LLMC-001.1 | Schemas para input (name, providerId, apiKey, baseUrl) e output (llmProviderConfigId) definidos. (Parte de feat/refactor-phase5-app-createllmconfig) |
| APP-LLMC-001.2| Implementar lógica principal e testes de `CreateLLMProviderConfigUseCase`                                            | Concluído     | APP-LLMC-001.1     | 1                  | Jules       | feat/refactor-phase5-app-createllmconfig   | Link_Commit_APP-LLMC-001.2 | Lógica do use case e testes unitários implementados.                                                                                         |
| APP-PTPL-001 | Implementar `CreatePersonaTemplateUseCase`                                                                         | Concluído     | DOM-AGENT-003      | 2                  | Jules       | feat/refactor-phase5-app-createpersona     | Link_Commit_APP-PTPL-001   | Sub-tarefas .1 (Schema) e .2 (Lógica e Testes) concluídas.                                                                                    |
| APP-PTPL-001.1| Definir schemas Zod para Input/Output de `CreatePersonaTemplateUseCase`                                              | Concluído     | APP-PTPL-001       | 1                  | Jules       | feat/refactor-phase5-app-createpersona     | Link_Commit_APP-PTPL-001.1 | Schemas para input (name, role, goal, backstory, toolNames) e output (personaTemplateId) definidos e alinhados com VOs. (Parte de feat/refactor-phase5-app-createpersona) |
| APP-PTPL-001.2| Implementar lógica principal e testes de `CreatePersonaTemplateUseCase`                                              | Concluído     | APP-PTPL-001.1     | 1                  | Jules       | feat/refactor-phase5-app-createpersona     | Link_Commit_APP-PTPL-001.2 | Lógica do use case e testes unitários implementados.                                                                                         |
| APP-AGENT-001| Implementar `CreateAgentUseCase`                                                                                   | Concluído     | DOM-AGENT-006, DOM-AGENT-003, DOM-LLM-003 | 2 | Jules   | feat/refactor-phase5-app-createagent       | Link_Commit_APP-AGENT-001  | Sub-tarefas .1 (Schema) e .2 (Lógica e Testes) concluídas.                                                                                    |
| APP-AGENT-001.1| Definir schemas Zod para Input/Output de `CreateAgentUseCase`                                                      | Concluído     | APP-AGENT-001      | 1                  | Jules       | feat/refactor-phase5-app-createagent       | Link_Commit_APP-AGENT-001.1| Schemas para input (personaTemplateId, llmProviderConfigId, temperature?) e output (agentId) definidos. (Parte de feat/refactor-phase5-app-createagent) |
| APP-AGENT-001.2| Implementar lógica principal e testes de `CreateAgentUseCase`                                                        | Concluído     | APP-AGENT-001.1    | 1                  | Jules       | feat/refactor-phase5-app-createagent       | Link_Commit_APP-AGENT-001.2| Lógica do use case e testes unitários implementados.                                                                                         |
| APP-AGST-001 | Implementar `SaveAgentInternalStateUseCase`, `LoadAgentInternalStateUseCase`                                       | Concluído     | DOM-AGENT-009      | 2                  | Jules       | feat/refactor-phase5-app-agentstate        | Link_Commit_APP-AGST-001   | Sub-tarefas .1 (SaveSchema), .2 (SaveLogic), .3 (LoadSchema), .4 (LoadLogic) concluídas.                                                      |
| APP-AGST-001.1| Definir schemas Zod para Input/Output de `SaveAgentInternalStateUseCase`                                             | Concluído     | APP-AGST-001       | 1                  | Jules       | feat/refactor-phase5-app-agentstate        | Link_Commit_APP-AGST-001.1 | Schemas para input (agentId, state data) e output (success) definidos e alinhados com VOs. (Parte de feat/refactor-phase5-app-agentstate)      |
| APP-AGST-001.2| Implementar lógica principal e testes de `SaveAgentInternalStateUseCase`                                             | Concluído     | APP-AGST-001.1     | 1                  | Jules       | feat/refactor-phase5-app-agentstate        | Link_Commit_APP-AGST-001.2 | Lógica do use case e testes unitários implementados.                                                                                         |
| APP-AGST-001.3| Definir schemas Zod para Input/Output de `LoadAgentInternalStateUseCase`                                             | Concluído     | APP-AGST-001       | 1                  | Jules       | feat/refactor-phase5-app-agentstate        | Link_Commit_APP-AGST-001.3 | Schemas para input (agentId) e output (state data) definidos.                                                                                |
| APP-AGST-001.4| Implementar lógica principal e testes de `LoadAgentInternalStateUseCase`                                             | Concluído     | APP-AGST-001.3     | 1                  | Jules       | feat/refactor-phase5-app-agentstate        | Link_Commit_APP-AGST-001.4 | Lógica do use case e testes unitários implementados.                                                                                         |
| APP-JOB-001  | Implementar `CreateJobUseCase`                                                                                     | Concluído     | DOM-JOB-011, APP-PORT-003 | 3            | Jules       | feat/refactor-phase5-app-createjob         | Link_Commit_APP-JOB-001    | Sub-tarefas .1 (Schema), .2 (Criação Entidade), .3 (Save/Queue e Testes) concluídas.                                                          |
| APP-JOB-001.1| Definir schemas Zod para Input/Output de `CreateJobUseCase`                                                        | Concluído     | APP-JOB-001        | 1                  | Jules       | feat/refactor-phase5-app-createjob         | Link_Commit_APP-JOB-001.1  | Schemas para input e output definidos. (Parte de feat/refactor-phase5-app-createjob)                                                           |
| APP-JOB-001.2| Implementar lógica de `CreateJobUseCase` (parte 1: criação de VOs e entidade Job)                                    | Concluído     | APP-JOB-001.1      | 1                  | Jules       | feat/refactor-phase5-app-createjob         | Link_Commit_APP-JOB-001.2  | Lógica de criação da entidade e VOs implementada, com testes focados nesta parte. (Parte de feat/refactor-phase5-app-createjob)             |
| APP-JOB-001.3| Implementar lógica de `CreateJobUseCase` (parte 2: save/queue) e testes unitários completos                          | Concluído     | APP-JOB-001.2      | 1                  | Jules       | feat/refactor-phase5-app-createjob         | Link_Commit_APP-JOB-001.3  | Lógica de salvamento, enfileiramento e testes unitários completos implementados. (Parte de feat/refactor-phase5-app-createjob)            |
| APP-JOB-002  | Implementar `UpdateJobUseCase`, `CancelJobUseCase`, `RetryJobUseCase`, `ListJobsUseCase`                           | Concluído     | DOM-JOB-011, APP-PORT-003 | 3            | Jules       | feat/refactor-phase5-app-job-management-usecases | Link_Commit_APP-JOB-002    | Todas as sub-tarefas (Update, Cancel, Retry, List) concluídas.                                                                                |
| APP-JOB-002.A1| Definir schemas Zod para Input/Output de `UpdateJobUseCase`                                                        | Concluído     | APP-JOB-002        | 1                  | Jules       | feat/refactor-phase5-app-job-management-usecases | Link_Commit_APP-JOB-002.A1 | Schemas para input (jobId, campos atualizáveis) e output (jobId, updatedAt) definidos.                                                       |
| APP-JOB-002.A2| Implementar lógica e testes para `UpdateJobUseCase`                                                                | Concluído     | APP-JOB-002.A1     | 1                  | Jules       | feat/refactor-phase5-app-job-management-usecases | Link_Commit_APP-JOB-002.A2 | Lógica do use case e testes implementados. Métodos de update adicionados à entidade Job.                                                     |
| APP-JOB-002.B1| Definir schemas Zod para Input/Output de `CancelJobUseCase`                                                        | Concluído     | APP-JOB-002        | 1                  | Jules       | feat/refactor-phase5-app-job-management-usecases | Link_Commit_APP-JOB-002.B1 | Schemas para input (jobId, reason?) e output (success, jobId, finalStatus) definidos.                                                        |
| APP-JOB-002.B2| Implementar lógica e testes para `CancelJobUseCase`                                                                | Concluído     | APP-JOB-002.B1     | 1                  | Jules       | feat/refactor-phase5-app-job-management-usecases | Link_Commit_APP-JOB-002.B2 | Lógica do use case e testes implementados. Método moveToCancelled adicionado à entidade Job.                                                 |
| APP-JOB-002.C1| Definir schemas Zod para Input/Output de `RetryJobUseCase`                                                         | Concluído     | APP-JOB-002        | 1                  | Jules       | feat/refactor-phase5-app-job-management-usecases | Link_Commit_APP-JOB-002.C1 | Schemas para input (jobId) e output (success, jobId, newStatus, executeAfter) definidos.                                                     |
| APP-JOB-002.C2| Implementar lógica e testes para `RetryJobUseCase`                                                                 | Concluído     | APP-JOB-002.C1     | 1                  | Jules       | feat/refactor-phase5-app-job-management-usecases | Link_Commit_APP-JOB-002.C2 | Lógica do use case e testes implementados. Método prepareForNextAttempt adicionado à entidade Job.                                           |
| APP-JOB-002.D1| Definir schemas Zod para Input/Output de `ListJobsUseCase`                                                         | Concluído     | APP-JOB-002        | 1                  | Jules       | feat/refactor-phase5-app-job-management-usecases | Link_Commit_APP-JOB-002.D1 | Schemas para input (filtros, paginação) e output (lista paginada de jobs) definidos.                                                         |
| APP-JOB-002.D2| Implementar lógica e testes para `ListJobsUseCase`                                                                 | Concluído     | APP-JOB-002.D1     | 1                  | Jules       | feat/refactor-phase5-app-job-management-usecases | Link_Commit_APP-JOB-002.D2 | Lógica do use case e testes implementados. Método search adicionado à IJobRepository e tipos relacionados.                                   |
| APP-ANNO-001 | Adaptar/Reimplementar UseCases de Annotation (List, Save, Remove)                                                  | Concluído     | DOM-ANNO-001       | 2                  | Jules       | feat/refactor-phase5-app-annotation-usecases | Link_Commit_APP-ANNO-001   | Todas as sub-tarefas (Save, List, Remove - Schemas, Lógica e Testes) concluídas.                                                              |
| APP-ANNO-001.A1| Definir schemas Zod para Input/Output de `SaveAnnotationUseCase`                                                   | Concluído     | APP-ANNO-001       | 1                  | Jules       | feat/refactor-phase5-app-annotation-usecases | Link_Commit_APP-ANNO-001.A1| Schemas para input (id?, text, agentId?, jobId?) e output (annotationId, createdAt, updatedAt) definidos.                                   |
| APP-ANNO-001.A2| Implementar lógica e testes para `SaveAnnotationUseCase`                                                           | Concluído     | APP-ANNO-001.A1    | 1                  | Jules       | feat/refactor-phase5-app-annotation-usecases | Link_Commit_APP-ANNO-001.A2| Lógica do use case (create/update) e testes implementados.                                                                                   |
| APP-ANNO-001.B1| Definir schemas Zod para Input/Output de `ListAnnotationsUseCase`                                                  | Concluído     | APP-ANNO-001       | 1                  | Jules       | feat/refactor-phase5-app-annotation-usecases | Link_Commit_APP-ANNO-001.B1| Schemas para input (filtros, paginação) e output (lista paginada de annotations) definidos.                                                |
| APP-ANNO-001.B2| Implementar lógica e testes para `ListAnnotationsUseCase`                                                          | Concluído     | APP-ANNO-001.B1    | 1                  | Jules       | feat/refactor-phase5-app-annotation-usecases | Link_Commit_APP-ANNO-001.B2| Lógica do use case e testes implementados. Método search adicionado à IAnnotationRepository e tipos.                                       |
| APP-ANNO-001.C1| Definir schemas Zod para Input/Output de `RemoveAnnotationUseCase`                                                 | Concluído     | APP-ANNO-001       | 1                  | Jules       | feat/refactor-phase5-app-annotation-usecases | Link_Commit_APP-ANNO-001.C1| Schemas para input (annotationId) e output (success, annotationId) definidos.                                                              |
| APP-ANNO-001.C2| Implementar lógica e testes para `RemoveAnnotationUseCase`                                                         | Concluído     | APP-ANNO-001.C1    | 1                  | Jules       | feat/refactor-phase5-app-annotation-usecases | Link_Commit_APP-ANNO-001.C2| Lógica do use case e testes implementados.                                                                                                   |
| APP-MEM-001  | Adaptar/Reimplementar UseCases de Memory (Save, Search, Remove, SearchSimilar)                                     | Concluído     | DOM-MEM-001        | 3                  | Jules       | feat/refactor-phase5-app-memory-usecases   |                            | Sub-tarefas: A1,A2,B1,B2,C1,C2,D1,D2 Concluídas.                                                                                             |
| APP-MEM-001.A1| Definir schemas Zod para Input/Output de `SaveMemoryItemUseCase`                                                   | Concluído     | APP-MEM-001        | 1                  | Jules       | feat/refactor-phase5-app-memory-usecases   | Link_Commit_APP-MEM-001.A1 | Schemas para input (id?, content, agentId?, tags?, source?, embedding?) e output (memoryItemId, createdAt, updatedAt) definidos.             |
| APP-MEM-001.A2| Implementar lógica e testes para `SaveMemoryItemUseCase`                                                           | Concluído     | APP-MEM-001.A1     | 1                  | Jules       | feat/refactor-phase5-app-memory-usecases   | Link_Commit_APP-MEM-001.A2 | Lógica do use case (create/update) e testes implementados.                                                                                   |
| APP-MEM-001.B1| Definir schemas Zod para Input/Output de `SearchMemoryItemsUseCase` (busca não semântica)                          | Concluído     | APP-MEM-001        | 1                  | Jules       | feat/refactor-phase5-app-memory-usecases   | Link_Commit_APP-MEM-001.B1 | Schemas para input (filtros, paginação) e output (lista paginada de memory items) definidos.                                                 |
| APP-MEM-001.B2| Implementar lógica e testes para `SearchMemoryItemsUseCase`                                                        | Concluído     | APP-MEM-001.B1     | 1                  | Jules       | feat/refactor-phase5-app-memory-usecases   | N/A (Existing code used)   | Lógica do use case e testes unitários já existiam e foram considerados adequados.                                                            |
| APP-MEM-001.C1| Definir schemas Zod para Input/Output de `RemoveMemoryItemUseCase`                                                 | Concluído     | APP-MEM-001        | 1                  | Jules       | feat/refactor-phase5-app-memory-usecases   | Link_Commit_APP-MEM-001.C1 | Schemas e testes de schema para input (memoryItemId) e output (memoryItemId, success) definidos.                                             |
| APP-MEM-001.C2| Implementar lógica e testes para `RemoveMemoryItemUseCase`                                                         | Concluído     | APP-MEM-001.C1     | 1                  | Jules       | feat/refactor-phase5-app-memory-usecases   | Link_Commit_APP-MEM-001.C2 | Lógica do use case e testes unitários implementados.                                                                                         |
| APP-MEM-001.D1| Definir schemas Zod para Input/Output de `SearchSimilarMemoryItemsUseCase`                                         | Concluído     | APP-MEM-001        | 1                  | Jules       | feat/refactor-phase5-app-memory-usecases   | Link_Commit_APP-MEM-001.D1 | Schemas e testes de schema para input (queryEmbedding, agentId?, limit?) e output (array de SimilarMemoryListItem) definidos.                 |
| APP-MEM-001.D2| Implementar lógica e testes para `SearchSimilarMemoryItemsUseCase`                                                 | Concluído     | APP-MEM-001.D1     | 1                  | Jules       | feat/refactor-phase5-app-memory-usecases   | Link_Commit_APP-MEM-001.D2 | Lógica do use case e testes unitários implementados.                                                                                         |
|              | **Serviços de Aplicação**                                                                                          |               |                    |                    |             |                                            |                            |                                                                                                                                              |
| APP-SVC-001  | Implementar `GenericAgentExecutor` (como `IAgentExecutor`)                                                         | Bloqueado     | DOM-AGENT-005, DOM-JOB-010, APP-PORT-004, DOM-TOOL-001 | 4 | Jules |                                            |                            | Subdividido em APP-SVC-001.0 a APP-SVC-001.8.                                                                                                |
| APP-SVC-001.0| Define `IAgentExecutor` interface and `IToolRegistryService` interface.                                              | Concluído     | DOM-JOB-010, DOM-AGENT-005, DOM-TOOL-001 | 1             | Jules       | feat/refactor-phase5-app-generic-agent-executor | Link_Commit_APP-SVC-001.0  | Sub-tarefa de APP-SVC-001. Interfaces IAgentExecutor and IToolRegistryService criadas.                                                       |
| APP-SVC-001.1| Implementar `GenericAgentExecutor` - Initialization and Basic Structure.                                             | Concluído (Implementação) | APP-SVC-001.0, APP-PORT-004, DOM-JOB-010, DOM-AGENT-005, DEBUG-IMPORT-001 | 2             | Jules       | feat/refactor-phase5-app-generic-agent-executor refactor/config-cleanup-and-alias-tweaks | Link_Commit_...            | Correção do uso de Result/ok no executor e spec. Teste específico não produziu output visível para confirmação final da correção do TypeError. |
| APP-SVC-001.2| Implementar `GenericAgentExecutor` - Core LLM Interaction Loop (No Tools Yet).                                       | Subdividido   | APP-SVC-001.1      | 2                  | Jules       | feat/refactor-phase5-app-generic-agent-executor |                            | Sub-tarefa de APP-SVC-001. Subdividida em APP-SVC-001.2.1 e APP-SVC-001.2.2.                                                                  |
| APP-SVC-001.2.1| Definir a estrutura básica do loop de interação com o LLM dentro do método `executeJob` do `GenericAgentExecutor`, incluindo a preparação da mensagem inicial para o LLM com base no `Job` e `Agent`. | Concluído     | APP-SVC-001.1      | 1                  | Jules       | feat/refactor-phase5-app-generic-agent-executor | Link_Commit_APP-SVC-001.2.1 | Estrutura inicial do loop LLM, prompt e chamada ao adapter implementados e testados.                                                            |
| APP-SVC-001.2.2| Implementar o tratamento da resposta do LLM (sem ferramentas), incluindo a extração do conteúdo da mensagem e a lógica básica para determinar se o objetivo foi alcançado (placeholder por enquanto) ou se mais interações são necessárias. | Concluído     | APP-SVC-001.2.1    | 1                  | Jules       | feat/refactor-phase5-app-generic-agent-executor | Link_Commit_APP-SVC-001.2.2 | Tratamento da resposta LLM, atualização do histórico de conversação no Job e testes unitários implementados.                                   |
| APP-SVC-001.3| Implementar `GenericAgentExecutor` - Tool Parsing and Validation.                                                    | Subdividido   | APP-SVC-001.2.2, DOM-TOOL-001 | 2                  | Jules       | feat/refactor-phase5-app-generic-agent-executor |                            | Sub-tarefa de APP-SVC-001. Subdividida em APP-SVC-001.3.1 e APP-SVC-001.3.2.                                                                  |
| APP-SVC-001.3.1| Definir a estrutura de dados para `tool_calls` na resposta do LLM (conforme o padrão da Vercel AI SDK, por exemplo) e adaptar a interface `ILLMAdapter` se necessário para que `generateText` ou um novo método (ex: `generateStructuredResponse`) possa retornar esta estrutura. Atualizar o `LanguageModelMessage` localmente. | Concluído   | APP-SVC-001.2.2    | 1                  | Jules       | feat/refactor-phase5-app-generic-agent-executor | Link_Commit_APP-SVC-001.3.1 | Estrutura de tool_calls definida e ILLMAdapter adaptado.                                                                                      |
| APP-SVC-001.3.2| No `GenericAgentExecutor`, após receber a resposta do LLM, verificar se ela contém `tool_calls`. Se sim, parsear a string de argumentos de cada `tool_call` (assumindo JSON) e validar contra o schema Zod da ferramenta correspondente (obtido via `IToolRegistryService`). | Concluído   | APP-SVC-001.3.1, DOM-TOOL-001 | 1                  | Jules       | feat/refactor-phase5-app-generic-agent-executor | Link_Commit_APP-SVC-001.3.2 | Lógica de parsing e validação de tool_calls implementada no GenericAgentExecutor.                                                              |
| APP-SVC-001.4| Implementar `GenericAgentExecutor` - Tool Execution and Result Handling.                                             | Subdividido   | APP-SVC-001.3.2    | 2                  | Jules       | feat/refactor-phase5-app-generic-agent-executor |                            | Sub-tarefa de APP-SVC-001. Subdividida em APP-SVC-001.4.1 e APP-SVC-001.4.2.                                                                  |
| APP-SVC-001.4.1| No `GenericAgentExecutor`, após um `tool_call` ser validado, executar a ferramenta (`tool.execute(validatedArgs, executionContext)`). Capturar o resultado ou erro da execução. | Concluído   | APP-SVC-001.3.2    | 1                  | Jules       | feat/refactor-phase5-app-generic-agent-executor | Link_Commit_APP-SVC-001.4.1 | Lógica de execução de ferramenta e atualização de ExecutionHistoryEntry implementada.                                                        |
| APP-SVC-001.4.2| Após a execução da ferramenta (ou tentativa), criar uma `ActivityHistoryEntry` de role `TOOL_RESULT` contendo o resultado serializado (ou mensagem de erro) e o `tool_call_id` original. Adicionar esta entrada ao `currentActivityHistory` e atualizar o `agentState` do `Job`. Atualizar também a `ExecutionHistoryEntry` correspondente para incluir o resultado/erro da ferramenta. | Concluído   | APP-SVC-001.4.1    | 1                  | Jules       | feat/refactor-phase5-app-generic-agent-executor | Link_Commit_APP-SVC-001.4.2 | Criação e adição de TOOL_RESULT ActivityHistoryEntry implementada.                                                                            |
| APP-SVC-001.5| Implementar `GenericAgentExecutor` - History Management and Loop Continuation.                                       | Subdividido   | APP-SVC-001.4.2    | 2                  | Jules       | feat/refactor-phase5-app-generic-agent-executor |                            | Sub-tarefa de APP-SVC-001. Dependência atualizada para APP-SVC-001.4.2. Subdividida em APP-SVC-001.5.1, APP-SVC-001.5.2.                       |
| APP-SVC-001.5.1| Implementar a lógica de continuação do loop no `GenericAgentExecutor.executeJob`. Se houver `TOOL_RESULT` messages na `ActivityHistory` (após a execução de ferramentas), formatá-las e adicioná-las às `conversationMessages` para a próxima chamada ao LLM. | Concluído   | APP-SVC-001.4.2    | 1                  | Jules       | feat/refactor-phase5-app-generic-agent-executor | Link_Commit_APP-SVC-001.5.1 | Loop de interação e reconstrução de histórico para LLM (incluindo TOOL_RESULTs) implementados.                                               |
| APP-SVC-001.5.2| Implementar um limite de iterações (`maxIterations`) para o loop principal de interação com o LLM. Gerenciar o estado `goalAchieved` de forma que o loop termine se o objetivo for alcançado ou o limite de iterações for atingido. | Concluído   | APP-SVC-001.5.1    | 1                  | Jules       | feat/refactor-phase5-agent-max-iterations       | Link_Commit_APP-SVC-001.5.2 | `maxIterations` é agora configurável no Agente, usado pelo GenericAgentExecutor. Estado `goalAchieved` já era gerenciado. Testes de executor bloqueados. |
| APP-SVC-001.6| Implementar `GenericAgentExecutor` - Job State Updates and Error Propagation.                                        | Subdividido   | APP-SVC-001.5.2    | 2                  | Jules       | feat/refactor-phase5-app-generic-agent-executor |                            | Sub-tarefa de APP-SVC-001. Dependência atualizada para APP-SVC-001.5.2. Subdividida em APP-SVC-001.6.1, APP-SVC-001.6.2.                     |
| APP-SVC-001.6.1| Refinar o `AgentExecutorResult` status. Modificar `createFinalResult` para retornar um status mais granular (e.g., `COMPLETED_SUCCESSFULLY`, `MAX_ITERATIONS_REACHED`, `FAILED_LLM_ERROR`, `FAILED_TOOL_ERROR`) e atualizar a definição de `AgentExecutorResult['status']`. | Concluído   | APP-SVC-001.5.2    | 1                  | Jules       | feat/refactor-phase5-app-generic-agent-executor | Link_Commit_APP-SVC-001.6.1 | Status do AgentExecutorResult refinados e implementados.                                                                                       |
| APP-SVC-001.6.2| Implementar a persistência final do `Job` (com seu `agentState`, e o `Job` entity status e `result` atualizados com base no `AgentExecutorResult`) via `jobRepository.save(job)` no final de `executeJob` (sucesso ou falha controlada). Propagar erros desta persistência. | Pendente    | APP-SVC-001.6.1, DOM-JOB-010 | 1                  | Jules       | feat/refactor-phase5-app-generic-agent-executor |                            | Sub-tarefa de APP-SVC-001.6.                                                                                                                   |
| APP-SVC-001.7| Implementar `GenericAgentExecutor` - Basic Re-planning and Advanced Error Handling.                                  | Subdividido   | APP-SVC-001.6.2    | 2                  | Jules       | feat/refactor-phase5-app-generic-agent-executor |                            | Sub-tarefa de APP-SVC-001. Dependência atualizada para APP-SVC-001.6.2. Subdividida em APP-SVC-001.7.1, APP-SVC-001.7.2.                     |
| APP-SVC-001.7.1| Implementar uma estratégia básica de re-planejamento. Se uma chamada ao LLM resultar em uma resposta não utilizável ou um erro leve, ou se uma ferramenta falhar de forma recuperável, modificar o prompt (e.g., adicionando uma mensagem de erro ao histórico) e tentar uma nova chamada ao LLM. | Concluído   | APP-SVC-001.6.2    | 1                  | Jules       | feat/refactor-phase5-app-generic-agent-executor | Link_Commit_APP-SVC-001.7.1 | Implementada lógica de re-planejamento para respostas LLM vazias/curtas.                                                                        |
| APP-SVC-001.7.2| Melhorar o tratamento de erros de ferramentas. Se uma ferramenta falhar criticamente (e.g., não encontrada, erro de validação persistente, erro de execução irrecuperável), registrar o erro de forma estruturada no `Job` (e.g., `Job.data.lastFailureSummary`) e finalizar o job com um status de falha apropriado se o re-planejamento não for viável. | Pendente    | APP-SVC-001.7.1    | 1                  | Jules       | feat/refactor-phase5-app-generic-agent-executor |                            | Sub-tarefa de APP-SVC-001.7.                                                                                                                   |
| APP-SVC-001.8| Unit Tests for `GenericAgentExecutor`.                                                                               | Pendente      | APP-SVC-001.7      | 2                  | Jules       | feat/refactor-phase5-app-generic-agent-executor |                            | Sub-tarefa de APP-SVC-001.                                                                                                                   |
| DEBUG-VITEST-001 | Investigar e corrigir falha na resolução de alias de caminho no Vitest                                             | Concluído     | -                  | 3                  | Jules       | fix/debug-vitest-path-alias refactor/config-cleanup-and-alias-tweaks | Link_Commit_...            | Problema de resolução de *caminho* do alias `@/refactored/shared/result` resolvido com `vite-tsconfig-paths` e ordem correta no `tsconfig.json`. Novo problema: import `Result` é undefined. |
| DEBUG-VITEST-001.1 | Revisar e documentar a configuração atual do Vitest, tsconfig.json, vite.config.mts focando em aliases.         | Concluído     | DEBUG-VITEST-001   | 1                  | Jules       | fix/debug-vitest-path-alias                 | N/A (Análise)              | Sub-tarefa de DEBUG-VITEST-001. Análise concluída. Nenhuma alteração de código.                                                                 |
| DEBUG-VITEST-001.2 | Criar um teste mínimo e isolado (minimal-alias-test.spec.ts) que demonstre o problema de resolução de alias.   | Concluído     | DEBUG-VITEST-001   | 1                  | Jules       | fix/debug-vitest-path-alias                 | N/A (Teste criado)         | Sub-tarefa de DEBUG-VITEST-001. Teste `tests/debug/minimal-alias-test.spec.ts` criado.                                                          |
| DEBUG-VITEST-001.3 | Pesquisar soluções, experimentar e aplicar a correção mais promissora ao teste mínimo.                         | Concluído     | DEBUG-VITEST-001.2 | 1                  | Jules       | fix/debug-vitest-path-alias                 | N/A (No fix found)         | Sub-tarefa de DEBUG-VITEST-001. Hypotheses (vite-tsconfig-paths, simplified manual alias, moduleResolution research) did not initially solve the path issue. |
| DEBUG-VITEST-001.4 | Aplicar a correção validada à configuração geral e verificar a resolução do erro original.                      | Cancelado     | DEBUG-VITEST-001.3 | 1                  | Jules       | fix/debug-vitest-path-alias                 |                            | Sub-tarefa de DEBUG-VITEST-001. Obsoleto pela resolução do problema de caminho via `vite-tsconfig-paths` + `tsconfig.json` order.                 |
| DEBUG-VITEST-001.5 | Verificar `path.resolve` output e file existence.                                                              | Concluído     | DEBUG-VITEST-001   | 1                  | Jules       | fix/debug-vitest-path-alias                 | N/A (Analysis)             | Sub-tarefa de DEBUG-VITEST-001. Assumed path is correct; `ls` confirmed file existence. Path logging in Vitest config was not visible via tool. |
| DEBUG-VITEST-001.6 | Review `tests/test-setup.ts`.                                                                                  | Concluído     | DEBUG-VITEST-001   | 1                  | Jules       | fix/debug-vitest-path-alias                 | N/A (Análise)              | Análise do `test-setup.ts` não revelou interferência direta com resolução de alias.                                                          |
| DEBUG-VITEST-001.7 | Experimentar com `find` pattern in alias (regex).                                                              | Cancelado     | DEBUG-VITEST-001   | 1                  | Jules       | fix/debug-vitest-path-alias                 |                            | Não mais necessário após resolução do problema de caminho.                                                                                      |
| DEBUG-VITEST-001.8 | Check Vitest version and investigate specific bugs.                                                            | Cancelado     | DEBUG-VITEST-001   | 1                  | Jules       | fix/debug-vitest-path-alias                 |                            | Não mais necessário após resolução do problema de caminho.                                                                                      |
| DEBUG-IMPORT-001 | Investigar por que a importação de `Result` de `@{/refactored/shared/result}` resulta em `undefined` no teste mínimo. | Concluído    | DEBUG-VITEST-001   | 2                  | Jules       | fix/debug-vitest-import refactor/config-cleanup-and-alias-tweaks | Link_Commit_...            | Teste mínimo `minimal-alias-test.spec.ts` corrigido para importar valores de runtime (`ok`, `DomainError`) em vez do tipo `Result`. Teste agora passa. |
| APP-SVC-001.1| Implementar `GenericAgentExecutor` - Initialization and Basic Structure.                                             | Concluído (Implementação) | APP-SVC-001.0, APP-PORT-004, DOM-JOB-010, DOM-AGENT-005, DEBUG-IMPORT-001 | 2             | Jules       | feat/refactor-phase5-app-generic-agent-executor refactor/config-cleanup-and-alias-tweaks | Link_Commit_...            | Correção do uso de Result/ok no executor e spec. Teste específico não produziu output visível para confirmação final da correção do TypeError. |
| APP-SVC-002  | Implementar `WorkerService`                                                                                        | Pendente      | DOM-JOB-011, APP-SVC-001.8, APP-PORT-003 | 3       | Jules       |                                            |                            | Depende da conclusão de todas as sub-tarefas de APP-SVC-001.                                                                                 |
| ---          | ---                                                                                                                | ---           | ---                | ---                | ---         | ---                                        | ---                        | ---                                                                                                                                          |
| **SUB-FASE: CONFIGURAÇÃO E LIMPEZA**                                                                                               |               |                    |                    |                    |             |                                            |                            | Tarefas relacionadas à configuração geral do projeto e limpeza de arquivos legados.                                                          |
| CONFIG-ESLINT-001| Consolidar configuração do ESLint: Migrar `ignorePatterns` de `.eslintrc.json` para `eslint.config.js` e remover `.eslintrc.json` se for redundante. | Pendente | -                  | 2                  | Jules       | refactor/eslint-config |                            | `.eslintrc.json` é provavelmente legado. Confirmar se os padrões de ignore ainda são necessários e movê-los para `eslint.config.js` antes de apagar o arquivo JSON. |
| ---          | ---                                                                                                                | ---           | ---                | ---                | ---         | ---                                        | ---                        | ---                                                                                                                                          |
| **SUB-FASE 5.C: CAMADA DE INFRAESTRUTURA (`src_refactored/infrastructure/`)**                                                      |               |                    |                    |                    |             |                                            |                            |                                                                                                                                              |
| ...          | (Repositórios Drizzle, Adaptadores de Tools, LLM, Fila, Worker Pool, IOC InversifyJS, Config)                       | Pendente      | ...                | ...                | Jules       |                                            |                            | Detalhar conforme progresso.                                                                                                                 |
| ---          | ---                                                                                                                | ---           | ---                | ---                | ---         | ---                                        | ---                        | ---                                                                                                                                          |
| **SUB-FASE 5.D: CAMADA DE APRESENTAÇÃO (UI e Electron)**                                                                           |               |                    |                    |                    |             |                                            |                            |                                                                                                                                              |
| ...          | (Electron Main/Preload, Handlers IPC, Componentes React UI, Páginas, Stores, Hooks, Serviços IPC)                  | Pendente      | ...                | ...                | Jules       |                                            |                            | Detalhar conforme progresso.                                                                                                                 |
| ---          | ---                                                                                                                | ---           | ---                | ---                | ---         | ---                                        | ---                        | ---                                                                                                                                          |
| **SUB-FASE 5.E: TESTES**                                                                                                           |               |                    |                    |                    |             |                                            |                            |                                                                                                                                              |
| ...          | (Testes Unitários, de Integração, E2E)                                                                             | Pendente      | ...                | ...                | Jules       |                                            |                            | Detalhar conforme progresso.                                                                                                                 |
| ---          | ---                                                                                                                | ---           | ---                | ---                | ---         | ---                                        | ---                        | ---                                                                                                                                          |
| **SUB-FASE 5.F: REMOÇÃO DE CÓDIGO LEGADO E MIGRAÇÃO**                                                                              |               |                    |                    |                    |             |                                            |                            |                                                                                                                                              |
| ...          | (Análise de `src/`, `src2/`, Exclusão, Movimentação de `src_refactored/` para `src/`, Ajustes finais)               | Pendente      | Todas anteriores   | ...                | Jules       |                                            |                            |                                                                                                                                              |
---
