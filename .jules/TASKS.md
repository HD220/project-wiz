# Tabela Detalhada de Tarefas de Refatoração - Fase 5

Este documento rastreia o progresso da reescrita completa do código da Fase 5.

**Status:**
*   Pendente
*   Em Andamento
*   Concluído
*   Bloqueado
*   Revisão

**Complexidade (1-5):**
*   1: Muito Baixa (ex: criar um VO simples, uma interface pequena, schema Zod)
*   2: Baixa (ex: criar uma entidade pequena, um caso de uso CRUD básico)
*   3: Média (ex: criar uma entidade mais complexa com VOs, um caso de uso com alguma lógica)
*   4: Alta (ex: implementar um serviço com múltiplas interações, um componente de UI grande) -> Requer subdivisão em sub-tarefas de complexidade <= 2, idealmente 1.
*   5: Muito Alta (ex: integrar um subsistema inteiro) -> Requer subdivisão em sub-tarefas de complexidade <= 2, idealmente 1.

---

| ID da Tarefa | Descrição da Tarefa                                                                                                | Status        | Dependências (IDs) | Complexidade (1-5) | Responsável | Branch Git                                 | Commit da Conclusão (Link) | Notas/Decisões                                                                                                                               |
|--------------|--------------------------------------------------------------------------------------------------------------------|---------------|--------------------|--------------------|-------------|--------------------------------------------|----------------------------|----------------------------------------------------------------------------------------------------------------------------------------------|
| **SUB-FASE 5.B: CAMADA DE APLICAÇÃO (`src_refactored/core/application/`)**                                                         |               |                    |                    |                    |             |                                            |                            |                                                                                                                                              |
|              | **Serviços de Aplicação**                                                                                          |               |                    |                    |             |                                            |                            |                                                                                                                                              |
| APP-SVC-001  | Implementar `GenericAgentExecutor` (como `IAgentExecutor`)                                                         | Bloqueado     | DOM-AGENT-005, DOM-JOB-010, APP-PORT-004, DOM-TOOL-001 | 4 | Jules |                                            |                            | Subdividido em APP-SVC-001.0 a APP-SVC-001.8.                                                                                                |
| APP-SVC-001.8| Unit Tests for `GenericAgentExecutor`.                                                                               | Concluído     | APP-SVC-001.7.2    | 2                  | Jules       | feat/refactor-phase5-app-generic-agent-executor-tests | Last commit on branch      | Todas as sub-tarefas de APP-SVC-001.8.1 a APP-SVC-001.8.10 foram concluídas. Testes automatizados não puderam ser executados.                   |
| APP-SVC-001.8.1.IMPL| Implementar testes de configuração e inicialização para GenericAgentExecutor                                   | Concluído     | APP-SVC-001.8.1    | 1                  | Jules       | feat/refactor-phase5-app-generic-agent-executor-tests | Last commit on branch      | Implementar o teste conceitual definido em APP-SVC-001.8.1. Testes automatizados não puderam ser executados devido a problemas no ambiente. |
| APP-SVC-001.8.2.IMPL| Implementar testes para job simples sem tool_calls (sucesso) no GenericAgentExecutor                           | Concluído     | APP-SVC-001.8.2    | 1                  | Jules       | feat/refactor-phase5-app-generic-agent-executor-tests | Last commit on branch      | Implementar o teste conceitual definido em APP-SVC-001.8.2. Testes automatizados não puderam ser executados devido a problemas no ambiente. |
| APP-SVC-001.8.3.IMPL| Implementar testes para job atingindo maxIterations no GenericAgentExecutor                                    | Concluído     | APP-SVC-001.8.3    | 1                  | Jules       | feat/refactor-phase5-app-generic-agent-executor-tests | Last commit on branch      | Implementar o teste conceitual definido em APP-SVC-001.8.3. Testes automatizados não puderam ser executados devido a problemas no ambiente. |
| APP-SVC-001.8.4.IMPL| Implementar testes para erro no ILLMAdapter.generateText no GenericAgentExecutor                               | Concluído     | APP-SVC-001.8.4    | 1                  | Jules       | feat/refactor-phase5-app-generic-agent-executor-tests | Last commit on branch      | Implementar o teste conceitual definido em APP-SVC-001.8.4. Testes automatizados não puderam ser executados devido a problemas no ambiente. |
| APP-SVC-001.8.5.IMPL| Implementar testes para job com tool_call bem-sucedido no GenericAgentExecutor                                 | Concluído     | APP-SVC-001.8.5    | 1                  | Jules       | feat/refactor-phase5-app-generic-agent-executor-tests | Last commit on branch      | Implementar o teste conceitual definido em APP-SVC-001.8.5. Testes automatizados não puderam ser executados devido a problemas no ambiente. |
| APP-SVC-001.8.6.IMPL| Implementar testes para tool_call com ToolError recuperável no GenericAgentExecutor                              | Concluído     | APP-SVC-001.8.6    | 1                  | Jules       | feat/refactor-phase5-app-generic-agent-executor-tests | Last commit on branch      | Implementar o teste conceitual definido em APP-SVC-001.8.6. Testes automatizados não puderam ser executados devido a problemas no ambiente. |
| APP-SVC-001.8.7.IMPL| Implementar testes para tool_call com ToolError não recuperável (crítico) no GenericAgentExecutor                | Concluído     | APP-SVC-001.8.7    | 1                  | Jules       | feat/refactor-phase5-app-generic-agent-executor-tests | Last commit on branch      | Implementar o teste conceitual definido em APP-SVC-001.8.7. Testes automatizados não puderam ser executados devido a problemas no ambiente. |
| APP-SVC-001.8.8.IMPL| Implementar testes para erro "Tool not found" no GenericAgentExecutor                                            | Concluído     | APP-SVC-001.8.8    | 1                  | Jules       | feat/refactor-phase5-app-generic-agent-executor-tests | Last commit on branch      | Implementar o teste conceitual definido em APP-SVC-001.8.8. Testes automatizados não puderam ser executados devido a problemas no ambiente. |
| APP-SVC-001.8.9.IMPL| Implementar testes para falha na validação de argumentos de ferramenta no GenericAgentExecutor                   | Concluído     | APP-SVC-001.8.9    | 1                  | Jules       | feat/refactor-phase5-app-generic-agent-executor-tests | Last commit on branch      | Implementar o teste conceitual definido em APP-SVC-001.8.9. Testes automatizados não puderam ser executados devido a problemas no ambiente. |
| APP-SVC-001.8.10.IMPL| Implementar testes para lógica de re-planejamento (`attemptReplanForUnusableResponse`) no GenericAgentExecutor   | Concluído     | APP-SVC-001.8.10   | 1                  | Jules       | feat/refactor-phase5-app-generic-agent-executor-tests | Last commit on branch      | Implementar o teste conceitual definido em APP-SVC-001.8.10. Testes automatizados não puderam ser executados devido a problemas no ambiente. |
| APP-SVC-002  | Implementar `WorkerService`                                                                                        | Bloqueado     | DOM-JOB-011, APP-SVC-001.8, APP-PORT-003 | 3       | Jules       |                                            |                            | Subdividido em APP-SVC-002.1 a APP-SVC-002.6.                                                                                                 |
| APP-SVC-002.1| Definir a interface para `WorkerService` (`IWorkerService`) e seus DTOs.                                             | Pendente      | APP-SVC-002, DOM-JOB-011, APP-PORT-003 | 1       | Jules       |                                            |                            | Basear-se nas necessidades de DOM-JOB-011 e APP-PORT-003.                                                                                     |
| APP-SVC-002.2| Implementar a estrutura básica do `WorkerService` (registrar, iniciar, parar workers).                                 | Pendente      | APP-SVC-002.1      | 2                  | Jules       |                                            |                            |                                                                                                                                              |
| APP-SVC-002.3| Integrar `WorkerService` com `IAgentExecutor` para delegar jobs.                                                     | Pendente      | APP-SVC-002.2, APP-SVC-001.8 | 2       | Jules       |                                            |                            |                                                                                                                                              |
| APP-SVC-002.4| Integrar `WorkerService` com o sistema de Fila para obter jobs.                                                        | Pendente      | APP-SVC-002.2, APP-PORT-003 | 1       | Jules       |                                            |                            |                                                                                                                                              |
| APP-SVC-002.5| Implementar tratamento de resultados/erros dos workers no `WorkerService`.                                             | Pendente      | APP-SVC-002.2      | 1                  | Jules       |                                            |                            |                                                                                                                                              |
| APP-SVC-002.6| Escrever testes unitários para `WorkerService`.                                                                        | Pendente      | APP-SVC-002.1, APP-SVC-002.2, APP-SVC-002.3, APP-SVC-002.4, APP-SVC-002.5 | 2 | Jules       |                                            |                            |                                                                                                                                              |
| ---          | ---                                                                                                                | ---           | ---                | ---                | ---         | ---                                        | ---                        | ---                                                                                                                                          |
| **SUB-FASE: CONFIGURAÇÃO E LIMPEZA**                                                                                               |               |                    |                    |                    |             |                                            |                            | Tarefas relacionadas à configuração geral do projeto e limpeza de arquivos legados.                                                          |
| CONFIG-ESLINT-001| Consolidar configuração do ESLint: Migrar `ignorePatterns` de `.eslintrc.json` para `eslint.config.js` e remover `.eslintrc.json` se for redundante. | Concluído   | -                  | 2                  | Jules       | refactor/eslint-config | Last commit on branch      | Sub-tarefa CONFIG-ESLINT-001.2 concluída. .eslintrc.json não existia. .eslintignore removido.                                                |
| CONFIG-ESLINT-001.2| Migrar `ignorePatterns` para `eslint.config.js` e remover `.eslintrc.json`.                                    | Concluído   | CONFIG-ESLINT-001.1| 1                  | Jules       | refactor/eslint-config | Last commit on branch      | Padrões de .eslintignore movidos para eslint.config.js. .eslintignore removido. .eslintrc.json não encontrado. Verificação com npm run lint falhou devido a erro de ambiente. |
| LINT-FIX-001 | Corrigir todos os erros de lint no projeto                                                                         | Pendente      | CONFIG-ESLINT-001.2| 3                  | Jules       |                        |                            |                                                                                                                                              |
| CLEANUP-001  | Remover pastas e arquivos internos não mais utilizados: `/.roo`, `/backup`, `/config`, `/scripts`, `/types` e conteúdo legado de `/tests`. | Pendente    | FASE-5-COMPLETA    | 3                  | Jules       |                        |                            | Verificar se Vitest ou outros scripts ainda usam algo em `/tests` antes da remoção total da pasta ou de subpastas específicas.                 |
| LINT-CUSTOM-001 | Pesquisar e configurar plugin (ou regras nativas) para impor modularidade de importações (similar a project-structure/independent-modules), adaptando para a arquitetura do src_refactored. | Subdividido | CONFIG-ESLINT-001.2 | 3                  | Jules       | feat/lint-custom-rules |                            | Subdividido em LINT-CUSTOM-001.1, LINT-CUSTOM-001.2, LINT-CUSTOM-001.3.                                                                         |
| LINT-CUSTOM-001.1 | Pesquisar plugins ESLint para modularidade (project-structure, import/no-restricted-paths, boundaries) e recomendar. | Concluído   | LINT-CUSTOM-001    | 1                  | Jules       | feat/lint-custom-rules | N/A (Research Task)        | Recomendado: `eslint-plugin-project-structure` (se flat config compatível), senão `eslint-plugin-boundaries`. Detalhes na conversa.           |
| LINT-CUSTOM-001.2 | Configurar plugin/regra escolhida em eslint.config.js para modularidade.                                           | Pendente    | LINT-CUSTOM-001.1  | 1                  | Jules       | feat/lint-custom-rules |                            | Depende da pesquisa e da funcionalidade do npm install.                                                                                        |
| LINT-CUSTOM-001.3 | Validar e refinar configuração de modularidade com `npm run lint`.                                                 | Pendente    | LINT-CUSTOM-001.2  | 1                  | Jules       | feat/lint-custom-rules |                            | Depende da funcionalidade do `npm run lint`.                                                                                                   |
| LINT-REACT-001  | Adicionar e configurar regra eslint para padronizar declaração de componentes React (react/function-component-definition). | Pendente | CONFIG-ESLINT-001.2 | 1                  | Jules       | feat/lint-react-rules  |                            | Bloqueado por falha no `npm install`.                                                                                                        |
| LINT-IMPORT-001 | Refinar configuração da regra import/order em eslint.config.js com base no exemplo fornecido (pathGroups, newlines-between, alphabetize). | Concluído | CONFIG-ESLINT-001.2 | 1                  | Jules       | feat/lint-import-order | Last commit on branch      | Regra configurada em eslint.config.js. Verificação com npm run lint falhou devido a erro de ambiente.                                       |
| LINT-TS-001     | Adicionar e configurar regra @typescript-eslint/naming-convention para padronização de nomes em TypeScript.        | Pendente | CONFIG-ESLINT-001.2 | 2                  | Jules       | feat/lint-ts-naming    |                            | Requer discussão e acordo sobre as convenções.                                                                                               |
| LINT-COMPLEXITY-001 | Adicionar e configurar regras ESLint para limitar complexidade e tamanho: max-depth, id-length, max-lines-per-function, max-statements, max-lines (com overrides para domain/application). | Concluído | CONFIG-ESLINT-001.2 | 2                  | Jules       | feat/lint-complexity   | Last commit on branch      | Regras configuradas conforme proposta. Verificação com npm run lint falhou devido a erro de ambiente.                                        |
| DOC-LINT-RULES-001 | Revisar e aprovar o documento de propostas de regras ESLint em `docs/technical-documentation/eslint-rule-proposals.md`. | Pendente    | LINT-COMPLEXITY-001 | 1                  | Usuário/Revisor | N/A                        |                            | O documento detalha as regras LINT-CUSTOM-001, LINT-REACT-001, LINT-IMPORT-001, LINT-TS-001, LINT-COMPLEXITY-001.                             |
| ---          | ---                                                                                                                | ---           | ---                | ---                | ---         | ---                                        | ---                        | ---                                                                                                                                          |
| **SUB-FASE 5.C: CAMADA DE INFRAESTRUTURA (`src_refactored/infrastructure/`)**                                                      |               |                    |                    |                    |             |                                            |                            |                                                                                                                                              |
| ...          | (Repositórios Drizzle, Adaptadores de Tools, LLM, Fila, Worker Pool, IOC InversifyJS, Config)                       | Pendente      | ...                | ...                | Jules       |                                            |                            | Detalhar conforme progresso.                                                                                                                 |
| ---          | ---                                                                                                                | ---           | ---                | ---                | ---         | ---                                        | ---                        | ---                                                                                                                                          |
| **SUB-FASE 5.D: CAMADA DE APRESENTAÇÃO (UI e Electron)**                                                                           |               |                    |                    |                    |             |                                            |                            |                                                                                                                                              |
| ...          | (Electron Main/Preload, Handlers IPC, Componentes React UI, Páginas, Stores, Hooks, Serviços IPC)                  | Pendente      | ...                | ...                | Jules       |                                            |                            | Detalhar conforme progresso.                                                                                                                 |
| ---          | ---                                                                                                                | ---           | ---                | ---                | ---         | ---                                        | ---                        | ---                                                                                                                                          |
| **SUB-FASE 5.E: TESTES**                                                                                                           |               |                    |                    |                    |             |                                            |                            |                                                                                                                                              |
| TEST-FIX-001 | Corrigir todos os testes falhando no projeto                                                                       | Pendente      | -                  | 4                  | Jules       |                        |                            |                                                                                                                                              |
| ...          | (Testes Unitários, de Integração, E2E)                                                                             | Pendente      | ...                | ...                | Jules       |                                            |                            | Detalhar conforme progresso.                                                                                                                 |
| ---          | ---                                                                                                                | ---           | ---                | ---                | ---         | ---                                        | ---                        | ---                                                                                                                                          |
| **SUB-FASE 5.F: REMOÇÃO DE CÓDIGO LEGADO E MIGRAÇÃO**                                                                              |               |                    |                    |                    |             |                                            |                            |                                                                                                                                              |
| ...          | (Análise de `src/`, `src2/`, Exclusão, Movimentação de `src_refactored/` para `src/`, Ajustes finais)               | Pendente      | Todas anteriores   | ...                | Jules       |                                            |                            |                                                                                                                                              |
| DOC-REVIEW-001 | Revisar e reorganizar toda a documentação (exceto `docs/tecnico` e `docs/funcional`)                             | Pendente      | -                  | 4                  | Jules       |                        |                            | Excluir documentação obsoleta ou irrelevante. Reorganizar o restante para melhor clareza e utilidade.                                        |
| **SUB-FASE 5.G: REESCRITA DO FRONTEND (NOVA APLICAÇÃO UI)**                                                                        |               |                    |                    |                    |             |                                            |                            | Tarefas para criar a nova aplicação frontend baseada na análise do código `src/` e documentação, seguindo a estrutura aprovada em ARCH-FE-STRUCT-001. |
| ARCH-FE-STRUCT-001 | Definir e documentar a estrutura de diretórios otimizada para o novo frontend React dentro de `src_refactored/`. A estrutura deve priorizar clareza, separação de conceitos (inspirada na Clean Architecture de forma pragmática), manutenibilidade e Developer Experience (DX) para um projeto Electron com Vite e React. | Concluído     | -                  | 3                  | Jules (Arquiteto) | arch/fe-define-repo-structure              |                            | Proposta aprovada. Frontend em `src_refactored/presentation/ui/` e entry point do renderer em `src_refactored/presentation/electron/renderer/`. |
| DOC-UPDATE-FE-STRUCT-001 | Atualizar `AGENTS.MD` (Seção 3) e `docs/tecnico/arquitetura.md` para refletir a nova estrutura de frontend aprovada. | Concluído     | ARCH-FE-STRUCT-001 | 2                  | Jules (Arquiteto) | docs/fe-structure-update                   | Commit da Conclusão (Link) | Documentação atualizada com a nova arquitetura de frontend.                                                                                |
| DOC-UPDATE-FE-STRUCT-001.1 | Atualizar `AGENTS.MD` com a Nova Estrutura do Frontend.                                                          | Concluído     | ARCH-FE-STRUCT-001, ARCH-FE-UI-STRUCT-001 | 1     | Jules (Arquiteto) | docs/update-agents-md-fe-structure       | Commit da Conclusão (Link) | Seção 3 do AGENTS.MD atualizada para refletir a estrutura de `presentation/ui/` e `presentation/electron/`.                               |
| DOC-UPDATE-FE-STRUCT-001.2 | Detalhar Arquitetura do Frontend em `docs/tecnico/arquitetura.md`.                                               | Concluído     | ARCH-FE-STRUCT-001, ARCH-FE-UI-STRUCT-001 | 1     | Jules (Arquiteto) | docs/update-frontend-architecture-doc    | Commit da Conclusão (Link) | Nova seção 3.4 adicionada detalhando a arquitetura de `presentation/ui/`.                                                                    |
| FE-MIGRATE-SRC-CODE-001 | Meta-tarefa: Migrar gradualmente código React de `src/infrastructure/frameworks/react/` para `src_refactored/presentation/ui/`. | Pendente      | Todas FE-SETUP-*, ARCH-FE-STRUCT-001 | 5       | Frontend Team | N/A                                        |                            | Realizada via sub-tarefas FE-LAYOUT-*, FE-COMP-*, FE-PAGE-*, FE-FEAT-*.                                                                      |
|              | **Configuração Inicial da Nova Aplicação Frontend (entry point em `src_refactored/presentation/electron/renderer/`, código React em `src_refactored/presentation/ui/`)** |               |                    |                    |             |                                            |                            |                                                                                                                                              |
| FE-SETUP-001 | Configurar estrutura de arquivos e pontos de entrada para o novo frontend Vite/React.                                  | Concluído     | ARCH-FE-STRUCT-001 | 2                  | Jules       | feat/fe-setup-vite                         | Commit da Conclusão (Link) | Sub-tarefas FE-SETUP-001.1 a FE-SETUP-001.6 concluídas. Estrutura base e configs Vite ajustadas.                                            |
| FE-SETUP-001.1 | Criar Estrutura de Diretórios Base para o Novo Frontend.                                                               | Concluído     | ARCH-FE-STRUCT-001 | 1                  | Jules       | feat/fe-setup-vite-dirs                    | Commit da Conclusão (Link) | Criado `src_refactored/presentation/electron/renderer/` e `src_refactored/presentation/ui/` com `.gitkeep`.                                   |
| FE-SETUP-001.2 | Mover e ajustar `index.html` para `src_refactored/presentation/ui/index.html`.                                         | Concluído     | FE-SETUP-001.1     | 1                  | Jules       | feat/fe-finalize-basic-renderer-setup      | Commit da Conclusão (Link) | Movido de `presentation/electron/renderer/` e conteúdo verificado.                                                                         |
| FE-SETUP-001.3 | Mover e ajustar `main.tsx` para `src_refactored/presentation/ui/main.tsx`.                                             | Concluído     | FE-SETUP-001.1     | 1                  | Jules       | feat/fe-finalize-basic-renderer-setup      | Commit da Conclusão (Link) | Movido de `presentation/electron/renderer/`, i18n removida, imports ajustados para `presentation/ui/`.                                    |
| FE-SETUP-001.4 | Remover diretório `src_refactored/presentation/electron/renderer/`.                                                  | Concluído     | FE-SETUP-001.2, FE-SETUP-001.3 | 1      | Jules       | feat/fe-finalize-basic-renderer-setup      | Commit da Conclusão (Link) | Diretório removido após mover index.html e main.tsx.                                                                                       |
| FE-SETUP-001.5 | Configurar Vite (`vite.renderer.config.mts`) para o Novo Ponto de Entrada.                                             | Concluído     | FE-SETUP-001.4                 | 1      | Jules       | feat/fe-setup-vite-config                  | Commit da Conclusão (Link) | `vite.renderer.config.mts` atualizado (root, aliases, router plugin, outDir). `forge.config.cts` não precisou de alteração para entry point. |
| FE-SETUP-001.5.1 | Analisar/Ajustar `forge.config.cts` para o novo entry point HTML.                                                    | Concluído     | FE-SETUP-001.2                 | 1      | Jules       | feat/fe-setup-vite-config                  | Commit da Conclusão (Link) | Nenhuma alteração necessária em `forge.config.cts`. Configuração do entry point HTML feita em `vite.renderer.config.mts` via `root`.        |
| FE-SETUP-001.5.2 | Ajustar `vite.renderer.config.mts` - Aliases.                                                                        | Concluído     | FE-SETUP-001.1                 | 1      | Jules       | feat/fe-setup-vite-config                  | Commit da Conclusão (Link) | `resolve.alias` atualizado para `src_refactored/presentation/ui/`.                                                                           |
| FE-SETUP-001.5.3 | Ajustar `vite.renderer.config.mts` - Plugin TanStack Router.                                                         | Concluído     | FE-SETUP-001.1                 | 1      | Jules       | feat/fe-setup-vite-config                  | Commit da Conclusão (Link) | `routesDirectory` e `generatedRouteTree` atualizados para `src_refactored/presentation/ui/`.                                                 |
| FE-SETUP-001.6 | Verificar Execução Básica do Novo Renderer.                                                                          | Concluído     | FE-SETUP-001.5                 | 1      | Jules       | feat/fe-setup-renderer-verification-step | Commit da Conclusão (Link) | `App.tsx` placeholder criado. `npm start` não pôde ser testado via tool, mas configs estão prontas. Verificação manual necessária.           |
| FE-SETUP-002 | Instalar e configurar Shadcn/UI.                                                                                   | Pendente      | FE-SETUP-001.6, FE-SETUP-010 | 2          | Frontend    | feat/fe-setup-shadcn                       |                            | Inclui `components.json`, `tailwind.config.js`, e `globals.css` (migrado).                                                                   |
| FE-SETUP-003 | Instalar e configurar Tanstack Router.                                                                               | Pendente      | FE-SETUP-001.6     | 2                  | Frontend    | feat/fe-setup-tanstack-router              |                            | Configurar `routeTree.gen.ts` e estrutura de rotas base em `presentation/ui/`.                                                               |
| FE-SETUP-004 | Configurar LinguiJS para i18n (REAVALIAR NECESSIDADE).                                                                 | Pendente      | FE-SETUP-001.6     | 2                  | Frontend    | feat/fe-setup-lingui                       |                            | Avaliar se LinguiJS será usado e como será integrado, já que foi removido do `main.tsx`.                                                    |
| FE-SETUP-005 | Configurar React Hook Form e Zod para manipulação de formulários.                                                      | Pendente      | FE-SETUP-001.6     | 1                  | Frontend    | feat/fe-setup-rhf-zod                      |                            |                                                                                                                                              |
| FE-SETUP-006 | Configurar ESLint, Prettier para qualidade de código, alinhado com `eslint.config.js` existente.                      | Pendente      | FE-SETUP-001.6     | 2                  | Frontend    | feat/fe-setup-linting                      |                            |                                                                                                                                              |
| FE-SETUP-007 | Configurar aliases de caminho em Vite e `tsconfig.json` para `src_refactored/presentation/ui/`.                        | Pendente      | FE-SETUP-001.6, ARCH-FE-UI-STRUCT-001 | 1    | Frontend    | feat/fe-setup-aliases                      |                            | Ex: `@/components/common`, `@/features/project`, `@/hooks` (globais), `@/lib`, `@/services`, `@/config`, `@/styles`, `@/assets`, `@/types` todos apontando para subdiretórios de `presentation/ui/`. O alias `@/` apontará para `presentation/ui/`. |
| FE-SETUP-008 | Configurar TanStack Query para gerenciamento de estado do servidor (dados via IPC).                                  | Pendente      | FE-SETUP-001.6     | 2                  | Frontend    | feat/fe-setup-tanstack-query               |                            | Configurar `QueryClientProvider` em `presentation/ui/main.tsx`.                                                                              |
| ARCH-FE-UI-STRUCT-001 | Definir e documentar a organização interna detalhada de `src_refactored/presentation/ui/`.                         | Concluído     | FE-SETUP-001.6     | 3                  | Jules (Arquiteto) | arch/fe-define-ui-folder-structure       |                            | Estrutura aprovada: `index.html` e `main.tsx` (com providers) em `presentation/ui/`. `components/` (common, layout, ui), `features/` (com pages, hooks, components, services, types aninhados), `config/`, `hooks/` (global), `lib/`, `services/` (global IPC), `store/` (global client), `styles/`, `assets/`, `types/` (global). |
| FE-SETUP-010 | Migrar `globals.css` de `src/` para `src_refactored/presentation/ui/styles/globals.css`.                               | Concluído     | FE-SETUP-001.1     | 1                  | Jules       | feat/fe-migrate-globals-css                | Commit da Conclusão (Link) | Arquivo copiado. Importação em `main.tsx` (`./styles/globals.css`) verificada.                                                              |
|              | **Implementação de Layouts (Conforme Análise 1.8 e Estrutura ARCH-FE-UI-STRUCT-001)**                               |               |                    |                    |             |                                            |                            | Deve seguir RNF-CMP-001 (identidade visual com `src/`) e `docs/tecnico/visual_style_guide.md`.                                              |
| FE-LAYOUT-001| Implementar Root Layout do Router (`__root.tsx` ou similar em `presentation/ui/features/` ou `presentation/ui/pages/`). | Pendente      | FE-SETUP-002, FE-SETUP-003, ARCH-FE-UI-STRUCT-001 | 2 | Frontend    | feat/fe-layout-root                        |                            | Define a estrutura visual global com `<Outlet/>`. Providers globais (Theme, QueryClient, etc.) são configurados em `presentation/ui/main.tsx`. |
| FE-LAYOUT-002| Implementar Layout Principal Autenticado (`(logged)/route.tsx` equivalente).                                         | Pendente      | FE-LAYOUT-001, FE-COMP-SIDEBAR-APP | 3       | Frontend    | feat/fe-layout-auth                        |                            | Inclui `AppSidebar` e área de conteúdo principal.                                                                                            |
| FE-LAYOUT-003| Implementar Layout da Seção de Projeto (`(logged)/project/route.tsx` equivalente).                                   | Pendente      | FE-LAYOUT-002, FE-COMP-SIDEBAR-PROJ | 3     | Frontend    | feat/fe-layout-project-section             |                            | Inclui `ProjectSidebar` resizável e área de conteúdo do projeto.                                                                             |
| FE-LAYOUT-004| Implementar Layout da Seção de Usuário (`(logged)/user/route.tsx` equivalente).                                     | Pendente      | FE-LAYOUT-002, FE-COMP-SIDEBAR-USER | 3     | Frontend    | feat/fe-layout-user-section                |                            | Inclui `UserSidebar` resizável e área de conteúdo do usuário.                                                                                |
| FE-LAYOUT-005| Implementar Layout Público (se diferente do Root, para `/home`, `/onbording`).                                       | Pendente      | FE-LAYOUT-001      | 2                  | Frontend    | feat/fe-layout-public                      |                            | Analisar se `src/` possui um layout específico para rotas públicas ou se usam o `__root.tsx` diretamente.                                  |
|              | **Implementação de Componentes de UI Primitivos (Base Shadcn/UI - Conforme Análise 1.4)**                          |               |                    |                    |             |                                            |                            | Adicionar via `npx shadcn-ui add` e customizar para RNF-CMP-001.                                                                             |
| FE-COMP-UI-001| Implementar e customizar `Button` (ui/button.tsx).                                                                   | Pendente      | FE-SETUP-002       | 1                  | Frontend    | feat/fe-comp-ui-button                     |                            | Garantir todas as variantes e estilos de `src/components/ui/button.tsx` e `visual_style_guide.md`.                                      |
| FE-COMP-UI-002| Implementar e customizar `Card` (ui/card.tsx) e seus sub-componentes.                                                | Pendente      | FE-SETUP-002       | 1                  | Frontend    | feat/fe-comp-ui-card                       |                            | Garantir estilos de `src/components/ui/card.tsx` e `visual_style_guide.md`.                                                               |
| FE-COMP-UI-003| Implementar e customizar `Dialog` (ui/dialog.tsx) e seus sub-componentes.                                              | Pendente      | FE-SETUP-002       | 1                  | Frontend    | feat/fe-comp-ui-dialog                     |                            |                                                                                                                                              |
| FE-COMP-UI-004| Implementar e customizar `Input` (ui/input.tsx).                                                                     | Pendente      | FE-SETUP-002       | 1                  | Frontend    | feat/fe-comp-ui-input                      |                            |                                                                                                                                              |
| FE-COMP-UI-005| Implementar e customizar `Select` (ui/select.tsx) e seus sub-componentes.                                              | Pendente      | FE-SETUP-002       | 1                  | Frontend    | feat/fe-comp-ui-select                     |                            |                                                                                                                                              |
| FE-COMP-UI-006| Implementar e customizar `Table` (ui/table.tsx) e seus sub-componentes.                                                | Pendente      | FE-SETUP-002       | 2                  | Frontend    | feat/fe-comp-ui-table                      |                            |                                                                                                                                              |
| FE-COMP-UI-007| Implementar e customizar `Form` (ui/form.tsx) para integração com React Hook Form.                                   | Pendente      | FE-SETUP-002, FE-SETUP-005 | 1        | Frontend    | feat/fe-comp-ui-form                       |                            |                                                                                                                                              |
| FE-COMP-UI-008| Implementar e customizar `Accordion`, `AlertDialog`, `Alert`, `AspectRatio`, `Avatar`, `Badge`, `Breadcrumb`, `Calendar`, `Carousel`, `Chart`, `Checkbox`, `Collapsible`, `Command`, `ContextMenu`, `Drawer`, `DropdownMenu`, `HoverCard`, `InputOTP`, `Label`, `Menubar`, `NavigationMenu`, `Pagination`, `Popover`, `Progress`, `RadioGroup`, `Resizable`, `ScrollArea`, `Separator`, `Sheet`, `Sidebar` (base), `Skeleton`, `Slider`, `Sonner`, `Switch`, `Tabs`, `Textarea`, `ToggleGroup`, `Toggle`, `Tooltip`. | Pendente      | FE-SETUP-002       | 3                  | Frontend    | feat/fe-comp-ui-others                     |                            | Agrupado para brevidade; pode ser subdividido. Cada um é complexidade 1-2. Estimar ~20-25 componentes x1.5 = ~30-38 (muitos são simples). Ajustar complexidade para 3 (requer subdivisão). |
|              | **Implementação de Componentes Compostos/Funcionais (Conforme Análise 1.4 e 1.5)**                                   |               |                    |                    |             |                                            |                            | Reimplementar usando os primitivos de UI acima.                                                                                              |
| FE-COMP-SIDEBAR-APP | Implementar `AppSidebar` (sidebar/app-sidebar.tsx equivalente).                                                | Pendente      | FE-COMP-UI-001, FE-COMP-UI-008 (Tooltip, ScrollArea, Separator) | 2 | Frontend    | feat/fe-comp-app-sidebar                   |                            | Inclui links de navegação, lista de projetos (dinâmica), botão "Adicionar Projeto".                                                          |
| FE-COMP-SIDEBAR-PROJ| Implementar `ProjectSidebar` (sidebar/project-sidebar.tsx equivalente).                                          | Pendente      | FE-COMP-UI-008 (Sidebar base, ScrollArea, Collapsible) | 3 | Frontend    | feat/fe-comp-project-sidebar               |                            | Inclui nome do projeto, navegação específica do projeto, lista de canais.                                                                    |
| FE-COMP-SIDEBAR-USER| Implementar `UserSidebar` (sidebar/user-sidebar.tsx equivalente).                                            | Pendente      | FE-COMP-UI-008 (Sidebar base, ScrollArea) | 3       | Frontend    | feat/fe-comp-user-sidebar                  |                            | Inclui nome do usuário, navegação do usuário, lista de DMs.                                                                                  |
| FE-COMP-CHAT-INPUT| Implementar `ChatInput` (chat/chat-input.tsx equivalente).                                                       | Pendente      | FE-COMP-UI-001, FE-COMP-UI-004 | 2       | Frontend    | feat/fe-comp-chat-input                    |                            | Lógica para envio de mensagens (IPC).                                                                                                        |
| FE-COMP-CHAT-MSG  | Implementar `ChatMessage` (chat/chat-message.tsx equivalente).                                                     | Pendente      | FE-COMP-MARKDOWN | 2                  | Frontend    | feat/fe-comp-chat-message                  |                            | Exibição de mensagens, avatar, nome, timestamp, conteúdo Markdown.                                                                           |
| FE-COMP-CHAT-THREAD| Implementar `ChatThread` (chat/chat-thread.tsx equivalente).                                                    | Pendente      | FE-COMP-CHAT-INPUT, FE-COMP-CHAT-MSG | 3 | Frontend    | feat/fe-comp-chat-thread                   |                            | Gerencia lista de mensagens, scroll, busca de histórico.                                                                                     |
| FE-COMP-DASH-ACTIVITY| Implementar `ActivityListItem` (dashboard/activity-list-item.tsx equivalente).                                   | Pendente      | FE-COMP-UI-002     | 2                  | Frontend    | feat/fe-comp-dash-activity-item            |                            | Exibe um item de atividade/job.                                                                                                              |
| FE-COMP-DASH-USER | Implementar `UserDashboard` (dashboard/user-dashboard.tsx equivalente).                                          | Pendente      | FE-COMP-DASH-ACTIVITY | 3                  | Frontend    | feat/fe-comp-dash-user                     |                            | Agrega atividades e outras informações relevantes para o usuário.                                                                            |
| FE-COMP-MARKDOWN  | Implementar `MarkdownRenderer` (markdown-render.tsx equivalente).                                                | Pendente      | -                  | 2                  | Frontend    | feat/fe-comp-markdown                      |                            | Usar `react-markdown` e plugins de `rehype`/`remark` conforme `package.json`. Garantir sanitização.                                        |
| FE-COMP-MODE-TOGGLE| Implementar `ModeToggle` (mode-toggle.tsx equivalente).                                                        | Pendente      | FE-COMP-UI-001, FE-COMP-UI-008 (DropdownMenu) | 1 | Frontend    | feat/fe-comp-mode-toggle                   |                            | Integrar com `ThemeProviderContext`.                                                                                                       |
| FE-COMP-ONBOARD-LLM| Implementar `LLMConfigForm` (onboarding/llm-config-form.tsx equivalente).                                        | Pendente      | FE-COMP-UI-001, FE-COMP-UI-002, FE-COMP-UI-004, FE-COMP-UI-005, FE-COMP-UI-007 | 3 | Frontend    | feat/fe-comp-onboard-llm                   |                            | Lógica para lidar com seleção de provedor/modelo.                                                                                            |
| FE-COMP-ONBOARD-USER| Implementar `UserInfoForm` (onboarding/user-info-form.tsx equivalente).                                          | Pendente      | FE-COMP-UI-001, FE-COMP-UI-002, FE-COMP-UI-004, FE-COMP-UI-007 | 2 | Frontend    | feat/fe-comp-onboard-user                  |                            | Lógica para avatar, slug de username.                                                                                                        |
| FE-COMP-ONBOARD-PERSONA| Implementar `PersonaList` (onboarding/persona-list.tsx equivalente).                                         | Pendente      | FE-COMP-UI-002     | 2                  | Frontend    | feat/fe-comp-onboard-persona               |                            | Exibe lista de personas para seleção.                                                                                                        |
| FE-COMP-PROJ-CARD | Implementar `ProjectCard` (projects/project-card.tsx equivalente).                                               | Pendente      | FE-COMP-UI-002     | 2                  | Frontend    | feat/fe-comp-project-card                  |                            | Card para exibir resumo do projeto.                                                                                                          |
| FE-COMP-PROJ-DETAIL| Implementar `ProjectDetailPage` (projects/project-detail-page.tsx equivalente).                                  | Pendente      | FE-COMP-UI-008 (Tabs), FE-COMP-PROJ-TABS | 4 | Frontend    | feat/fe-comp-project-detail                |                            | Página principal de detalhes do projeto, com abas. (Requer subdivisão)                                                                       |
| FE-COMP-PROJ-LIST | Implementar `ProjectListPage` (projects/project-list-page.tsx equivalente).                                    | Pendente      | FE-COMP-UI-001, FE-COMP-UI-002, FE-COMP-PROJ-CARD | 3 | Frontend    | feat/fe-comp-project-list                  |                            | Página para listar projetos, botão de criar novo.                                                                                            |
| FE-COMP-PROJ-TABS | Implementar Abas de Detalhes do Projeto (`ProjectOverviewTab`, `ProjectTasksTab`, `ProjectDiscussionsTab`, `ProjectTeamTab`). | Pendente      | FE-COMP-PROJ-DETAIL | 3       | Frontend    | feat/fe-comp-project-tabs                  |                            | Agrupado; cada aba é complexidade 1-2.                                                                                                       |
| FE-COMP-TYPO      | Implementar componentes de Tipografia (typography/* equivalentes).                                               | Pendente      | FE-SETUP-002       | 2                  | Frontend    | feat/fe-comp-typography                    |                            | `Blockquote`, `Code`, `Lead`, `List`, `Paragraph`, `Table` (typo), `Titles`.                                                                 |
|              | **Implementação de Páginas (Conforme Análise 1.3 e Documentação)**                                                 |               |                    |                    |             |                                            |                            |                                                                                                                                              |
| FE-PAGE-HOME-PUB | Implementar Página Home Pública (`(public)/home/index.tsx` equivalente).                                         | Pendente      | FE-LAYOUT-005      | 2                  | Frontend    | feat/fe-page-home-public                   |                            |                                                                                                                                              |
| FE-PAGE-ONBOARD  | Implementar Página de Onboarding (`(public)/onbording/index.tsx` equivalente).                                   | Pendente      | FE-LAYOUT-005, FE-COMP-ONBOARD-USER, FE-COMP-ONBOARD-LLM, FE-COMP-ONBOARD-PERSONA | 4 | Frontend    | feat/fe-page-onboarding                    |                            | Inclui formulários de UserInfo, LLMConfig, seleção de Persona. (Requer subdivisão)                                                           |
| FE-PAGE-PROJ-LIST| Implementar Página de Listagem de Projetos (`(logged)/project/index.tsx` equivalente).                             | Pendente      | FE-LAYOUT-003, FE-COMP-PROJ-LIST | 2    | Frontend    | feat/fe-page-project-list                  |                            | Usa `ProjectListPage` component.                                                                                                             |
| FE-PAGE-PROJ-DETAIL| Implementar Página de Detalhes do Projeto (`(logged)/project/$id/index.tsx` equivalente).                        | Pendente      | FE-LAYOUT-003, FE-COMP-PROJ-DETAIL | 2  | Frontend    | feat/fe-page-project-detail                |                            | Usa `ProjectDetailPage` component.                                                                                                           |
| FE-PAGE-USER-DASH| Implementar Página de Dashboard do Usuário (`(logged)/user/index.tsx` equivalente).                                | Pendente      | FE-LAYOUT-004, FE-COMP-DASH-USER | 2    | Frontend    | feat/fe-page-user-dashboard                |                            | Usa `UserDashboard` component.                                                                                                               |
| FE-PAGE-USER-DM  | Implementar Página de Mensagens Diretas (`(logged)/user/dm/$id/index.tsx` equivalente).                            | Pendente      | FE-LAYOUT-004, FE-COMP-CHAT-THREAD | 3  | Frontend    | feat/fe-page-user-dm                       |                            | Usa `ChatThread` component.                                                                                                                  |
| FE-PAGE-USER-GUIDES| Implementar Página de Guias do Usuário (`(logged)/user/user-guides/index.tsx` equivalente).                      | Pendente      | FE-LAYOUT-004      | 2                  | Frontend    | feat/fe-page-user-guides                   |                            | Conteúdo a ser definido.                                                                                                                     |
| FE-PAGE-ROOT-INDEX| Implementar `index.tsx` da raiz das páginas (lógica de redirect).                                                | Pendente      | FE-SETUP-003       | 1                  | Frontend    | feat/fe-page-root-index                    |                            |                                                                                                                                              |
|              | **Implementação de Funcionalidades Centrais (Conforme Análise 1.5 e 1.9)**                                         |               |                    |                    |             |                                            |                            |                                                                                                                                              |
| FE-FEAT-PROJ-LIST| Implementar lógica de exibição da Lista de Projetos.                                                             | Pendente      | FE-PAGE-PROJ-LIST, FE-SETUP-008 | 2    | Frontend    | feat/fe-feature-project-list             |                            | Usar TanStack Query (`useQuery(['projects'], () => core.query.projects())`) e IPC para invalidar.                                          |
| FE-FEAT-PROJ-CREATE| Implementar fluxo de Criação de Projeto.                                                                         | Pendente      | FE-PAGE-PROJ-LIST, FE-COMP-UI-003, FE-IPC-PROJ-CREATE | 3 | Frontend    | feat/fe-feature-project-create           |                            | Dialog, Formulário (Nome, Descrição), chamada IPC via `useCore().usecase.createProject`.                                                      |
| FE-FEAT-ONBOARD| Implementar lógica de submissão do Onboarding.                                                                   | Pendente      | FE-PAGE-ONBOARD, FE-IPC-ONBOARD | 2     | Frontend    | feat/fe-feature-onboarding-submit          |                            | Chamadas IPC para `createLLMProviderConfig` e `createUser` via `useCore()`.                                                                  |
| FE-FEAT-CHAT   | Implementar funcionalidade de Chat (envio/recebimento de mensagens, streaming).                                      | Pendente      | FE-PAGE-USER-DM, FE-IPC-CHAT | 4         | Frontend    | feat/fe-feature-chat                       |                            | (Requer subdivisão)                                                                                                                        |
| FE-FEAT-USER-PROFILE| Implementar gerenciamento de Perfil de Usuário (se houver UI dedicada além do onboarding).                     | Pendente      | FE-PAGE-USER-DASH  | 3                  | Frontend    | feat/fe-feature-user-profile               |                            | Visualização e edição de dados do usuário.                                                                                                   |
| FE-FEAT-LLM-CONFIG| Implementar gerenciamento de Configurações LLM (se houver UI dedicada além do onboarding).                       | Pendente      | FE-SETUP-008       | 3                  | Frontend    | feat/fe-feature-llm-config                 |                            | CRUD para configurações de LLM.                                                                                                              |
| FE-FEAT-CMD-PALETTE| Definir e implementar ações do Command Palette.                                                                  | Pendente      | FE-COMP-UI-008 (Command) | 3       | Frontend    | feat/fe-feature-command-palette            |                            | Conforme Task 1.9.1.                                                                                                                         |
| FE-FEAT-SIDEBAR-DYNAMIC| Implementar carregamento dinâmico de dados para sidebars.                                                    | Pendente      | FE-COMP-SIDEBAR-PROJ, FE-COMP-SIDEBAR-USER, FE-SETUP-008 | 3 | Frontend | feat/fe-feature-sidebar-dynamic-data     |                            | Conforme Task 1.9.3.                                                                                                                         |
| FE-FEAT-TODO-ACTIONS| Implementar ações "TODO" dos componentes de UI.                                                                | Pendente      | Várias FE-COMP-*   | 4                  | Frontend    | feat/fe-feature-todo-actions               |                            | Conforme Task 1.9.4. (Requer subdivisão)                                                                                                     |
| FE-FEAT-DOC-FEATURES| Implementar UI para funcionalidades documentadas mas não totalmente presentes em `src/`.                         | Pendente      | FE-LAYOUT-001+     | 5                  | Frontend    | feat/fe-feature-documented-gaps            |                            | Conforme Task 1.9.5 (Integrations, Model Context Protocol (MCP) Configuration (Anthropic), Analytics, Forum, Docs View). (Requer subdivisão e design) |
|              | **Comunicação IPC (Conforme Análise 1.7)**                                                                         |               |                    |                    |             |                                            |                            | Abstração `useCore()` similar à existente.                                                                                                   |
| FE-IPC-CORE-ABSTR| Implementar camada de abstração `useCore()` para chamadas IPC.                                                     | Pendente      | FE-SETUP-001       | 2                  | Frontend    | feat/fe-ipc-core-abstraction               |                            | Similar a `src/hooks/use-core.ts`, adaptado para novas queries/usecases.                                                                     |
| FE-IPC-PROJ-LIST| Definir e implementar IPC para `query:get-projects`.                                                               | Pendente      | FE-IPC-CORE-ABSTR  | 1                  | Frontend    | feat/fe-ipc-get-projects                   |                            |                                                                                                                                              |
| FE-IPC-PROJ-CREATE| Definir e implementar IPC para `usecase:create-project`.                                                           | Pendente      | FE-IPC-CORE-ABSTR  | 1                  | Frontend    | feat/fe-ipc-create-project                 |                            |                                                                                                                                              |
| FE-IPC-ONBOARD | Definir e implementar IPC para `query:get-user`, `query:llm-provider`, `usecase:create-llm-provider-config`, `usecase:create-user`. | Pendente | FE-IPC-CORE-ABSTR  | 2                  | Frontend    | feat/fe-ipc-onboarding                     |                            | Agrupado para onboarding.                                                                                                                    |
| FE-IPC-CHAT    | Definir e implementar IPC para `chat:sendMessage` e listener `chat:streamEvent`.                                   | Pendente      | FE-IPC-CORE-ABSTR  | 2                  | Frontend    | feat/fe-ipc-chat                           |                            |                                                                                                                                              |
|              | **Finalização (Conforme Fase 5 do `tasks.md` original)**                                                           |               |                    |                    |             |                                            |                            |                                                                                                                                              |
| FE-DOC-ARCH    | Documentar arquitetura do novo frontend, componentes e diretrizes de desenvolvimento.                                | Pendente      | Todas FE-*         | 3                  | Frontend    | docs/fe-architecture                       |                            |                                                                                                                                              |
| FE-DOC-USER    | Criar ou atualizar guias de usuário relevantes para a nova UI.                                                       | Pendente      | Todas FE-PAGE-*    | 2                  | Frontend    | docs/fe-user-guide                         |                            |                                                                                                                                              |
| FE-I18N-FINALIZE| Garantir que todas as traduções i18n (LinguiJS) estejam implementadas e corretas.                                    | Pendente      | Todas FE-PAGE-*, FE-COMP-* | 3    | Frontend    | feat/fe-i18n-finalize                      |                            |                                                                                                                                              |
| FE-TEST-UNIT   | Escrever testes unitários para componentes e hooks críticos.                                                         | Pendente      | Todas FE-COMP-*, FE-FEAT-* | 4    | Frontend    | test/fe-unit                               |                            | (Requer subdivisão)                                                                                                                        |
| FE-TEST-INTEG  | Escrever testes de integração para fluxos de usuário chave.                                                          | Pendente      | Todas FE-PAGE-*, FE-FEAT-* | 4    | Frontend    | test/fe-integration                        |                            | (Requer subdivisão)                                                                                                                        |
| FE-CORE-IMPACT-REVIEW | Revisar todos os `Core Impact` identificados e garantir que tarefas correspondentes foram criadas para o backend. | Pendente    | Todas FE-*         | 2                  | Arquiteto   | N/A                                        |                            | Esta é uma tarefa de revisão/coordenação.                                                                                                    |

---

[end of .jules/TASKS.md]
